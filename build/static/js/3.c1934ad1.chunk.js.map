{"version":3,"sources":["containers/Admin/Admin.module.scss","containers/Admin/Dashboard/Dashboard.module.scss","components/UI/Icon/Icon.module.scss","containers/Admin/Events/Events.module.scss","containers/Admin/Grades/Grades.module.scss","containers/Admin/Settings/Settings.module.scss","containers/Admin/Students/Students.module.scss","components/TableData/TableData.module.scss","containers/Admin/Teachers/Teachers.module.scss","components/Sidebar/Sidebar.module.scss","containers/Admin/CreateUser/CreateUser.module.scss","containers/Admin/User/User.module.scss","containers/Admin/Grades/Grade/Grade.module.scss","containers/Admin/Grades/CreateGrade/CreateGrade.module.scss","containers/Admin/Grades/Student/Student.module.scss","containers/Admin/Grades/Student/Result/Result.module.scss","containers/Admin/Grades/Student/Payment/Payment.module.scss","containers/Admin/Images/Images.module.scss","assets/icons/sprites.svg","components/UI/Icon/Icon.js","components/UI/ProgressBar/ProgressBar.js","containers/Admin/Dashboard/Dashboard.js","containers/Admin/Events/Events.js","containers/Admin/Grades/Grades.js","containers/Admin/Settings/Settings.js","components/TableData/TableData.js","containers/Admin/Students/Students.js","containers/Admin/Teachers/Teachers.js","components/Sidebar/Sidebar.js","containers/Admin/CreateUser/CreateUser.js","containers/Admin/User/User.js","containers/Admin/Grades/Grade/Grade.js","containers/Admin/Grades/CreateGrade/CreateGrade.js","containers/Admin/Grades/Student/Result/Result.js","containers/Admin/Grades/Student/Payment/Payment.js","containers/Admin/Grades/Student/Student.js","containers/Admin/Images/Images.js","containers/Admin/Admin.js"],"names":["module","exports","Icon","props","className","classes","icon","join","style","onClick","href","sprites","name","Progress","progressStyle","display","loading","padding","justifyContent","alignItems","CircularProgress","useStyles","makeStyles","root","width","container","maxHeight","TopStudentsTable","globalState","useSelector","state","students","dispatch","useDispatch","useState","setLoading","useEffect","actionCreators","Paper","topStudents","overflowY","TableContainer","component","Table","sx","minWidth","stickyHeader","TableHead","TableRow","topStudents__tableRow","TableCell","align","TableBody","map","row","topStudents__tableCell","border","scope","firstname","lastname","Avatar","marginLeft","src","profilePic","grade","mobile","Button","variant","color","user","SelectUser","history","push","_id","startIcon","fill","height","fontSize","textTransform","TeachersTable","teachers","styles","Dashboard","total","setTotal","source","axiosMain","CancelToken","a","axios","get","cancelToken","token","res","data","console","log","message","fetchData","cancel","dashboard","dashboard__top","dashboard__top__item","student","teacher","dashboard__bottom","marginBottom","btn","Events","events","setEvents","e","preventDefault","_name","target","value","_description","axiosInstance","post","description","then","response","concat","catch","error","events__container","events__left","events__head","events__form","onSubmit","TextField","id","label","events__form__inp","multiline","rows","type","events__right","events__right__container","eve","events__item","events__right__btn","StickyHeadTable","useHistory","allGrades","getAllGrades","changeRoute","fontWeight","filteredGrades","hover","role","tabIndex","classTeacher","alt","Date","batch","getFullYear","IconButton","Grades","setBatch","setFilteredGrades","getFilteredGrades","grades","grades__top","grades__search","grades__head","to","grades__create","inp","onChange","refresh","EditModal","open","setOpen","setFirstname","setLastname","email","setEmail","setMobile","imgSrc","setImgSrc","Modal","onClose","modal","updateAdmin","edit","disabled","Settings","settings","settings__container","settings__left","settings__left__desc","settings__right","TableData","Fragment","table","imgUrl","selectUser","getStudents","searchedStudents","length","item","MemoizedStickyTable","React","memo","Students","setName","setSearchedStudents","searchStudentLoading","setSearchStudentLoading","searchStudent","Error","users","students__top","students__search","students__head","students__search__inp","students__create","getAllTeachers","searchedTeachers","Teachers","searchTeacherLoading","setSearchTeacherLoading","setSearchedTeachers","searchTeacher","teachers__top","teachers__search","teachers__head","teachers__search__inp","Sidebar","sidebar","sidebar__head","sidebar__container","exact","sidebar__item","activeClassName","active","validate","values","errors","firstName","lastName","test","age","password","confirmPassword","CreateUser","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","formik","useFormik","initialValues","middleName","gender","vals","submitHandler","createUser","middlename","user__head","user__container","handleSubmit","user__form","user__form__top","user__inp","getFieldProps","touched","helperText","user__form__bottom","FormControl","InputLabel","Select","labelId","MenuItem","htmlFor","OutlinedInput","endAdornment","InputAdornment","position","edge","labelWidth","FormHelperText","FormLabel","RadioGroup","defaultValue","FormControlLabel","control","Radio","labelPlacement","user__form__btn","EditUserModal","setGender","setGrade","setImgUrl","modal__head","updateUser","userId","modal__form","modal__form__top","modal__form__inp","modal__form__img","connect","showEditModal","setShowEditModal","useLocation","pathname","split","getUser","selectedUser","user__img","user__desc","user__desc__container","user__desc__content","marginTop","flex","gap","StudentTable","AddStudentModal","gradeId","rollNumber","isInGrade","find","checkExistenceOfStudent","SearchedStudentsList","modal__item","fontStyle","addStudentToGrade","SubjectTable","params","useParams","removeSubjectLoading","setRemoveSubjectLoading","AddSubjectModal","subjects","removeSubjectFromGrade","selectedTeacher","setSelectedTeacher","subjectName","setSubjectName","addSubjectLoading","setAddSubjectLoading","addSubjectToGrade","Grade","location","getSelectedGrade","selectedGrade","grade__header","grade__header__left","grade__head","Chip","chip","grade__header__right","totalGradeFee","grade__top","grade__top__left","allStudents","class","grade__top__right","allSubjects","searchedList","setSearchedList","userNotFound","setUserNotFound","searchedListStyle","searchStudents","key","grade__form__add__search","grade__form__inp","maxWidth","onKeyPress","InputProps","startAdornment","margin","studentList","findIndex","setStudentList","selectStudent","filter","teacherList","setTeacherList","selectTeacher","CreateGrade","setTeacher","subject","setSubject","subjectList","setSubjectList","gradeTotalFee","setGradeTotalFee","setClassTeacher","grade__form","grade__form__top","grade__form__add","grade__form__add__left","grade__form__add__right","grade__form__subjects","grade__form__subjects__items","createGrade","CreateResultModal","title","setTitle","createResultModal","preview","createResultModal__form","createResultModal__form__inp","Result","createResultLoading","setCreateResultLoading","result","getResultsLoading","setGetResultsLoading","showCreateResultModal","setShowCreateResultModal","getResults","studentId","resultData","photoUrl","parseInt","createResult","result__create","result__heading","result__container","result__tableHead","result__tableBody","results","result__tableBody__item","result__tableBody__img","deleteResult","resultId","CreatePaymentModal","paymentDescription","setPaymentDescription","paymentAmount","setPaymentAmount","createPaymentModal","createPayment","image","createdAt","now","createPaymentModal__form","createPaymentModal__form__inp","Payment","openCreatePayment","setOpenCreatePayment","payment","getStudentPayments","payment__create","payment__heading","payment__container","payment__tableHead","payment__tableBody","studentPayments","payment__tableBody__item","payment__tableBody__img","toLocaleString","Student","selectedStudent","roll","setRoll","rollLoading","setRollLoading","deleteLoading","setDeleteLoading","getSelectedStudent","student__container","student__img","student__desc","student__head","student__desc__container","student__desc__content","updateStudentRollNumber","student__desc__form","student__desc__form__inp","deleteStudentFromGrade","mainVariant","hidden","opacity","visible","transition","when","staggerChildren","imgVariant","ImagesContainer","copied","setCopied","deleteImageLoading","setDeleteImageLoading","copyUrl","imgId","url","navigator","clipboard","writeText","deleteImageById","deleteImage","motion","div","variants","initial","animate","images__main","searchedImages","images","copiedImgId","imageUrl","ImageContent","img","img__overlay","UploadImage","selectedImage","setSelectedImage","imageUploadLoading","setImageUploadLoading","images__container__right","createImage","images__form","images__preview","images__form__img","file","files","reader","FileReader","addEventListener","readAsDataURL","accept","images__form__inp","Images","initialLoading","setInitialLoading","setSearchedImages","searchField","setSearchField","getImages","searchImage","images__container","images__container__left","images__search","adminVariant","duration","ease","Header","logoutLoading","setLogoutLoading","anchorEl","setAnchorEl","handleClose","logout","square","elevation","admin__main__header","cursor","goBack","marginRight","event","currentTarget","admin__main__header__profile","Menu","keepMounted","Boolean","admin__menuItem","Admin","admin","exit","admin__sidebar","admin__main","path","User"],"mappings":"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","file":"static/js/3.c1934ad1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"admin\":\"Admin_admin__2kGkJ\",\"admin__sidebar\":\"Admin_admin__sidebar__2blmh\",\"admin__menuItem\":\"Admin_admin__menuItem__B_GvV\",\"admin__main\":\"Admin_admin__main__3lC8M\",\"admin__main__header\":\"Admin_admin__main__header__o2TXZ\",\"admin__main__header__profile\":\"Admin_admin__main__header__profile__ZH3Pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard__top\":\"Dashboard_dashboard__top__2kuN0\",\"dashboard__top__item\":\"Dashboard_dashboard__top__item__3rFVV\",\"dashboard__bottom\":\"Dashboard_dashboard__bottom__2K76r\",\"topStudents\":\"Dashboard_topStudents__1yJn4\",\"topStudents__tableRow\":\"Dashboard_topStudents__tableRow__1Mfp4\",\"topStudents__tableCell\":\"Dashboard_topStudents__tableCell__1pxzf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__pAdqh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"events\":\"Events_events__3TSav\",\"events__container\":\"Events_events__container__fq_TG\",\"events__item\":\"Events_events__item__VEtqF\",\"events__head\":\"Events_events__head__jqzrn\",\"events__form\":\"Events_events__form__2-bvH\",\"events__form__inp\":\"Events_events__form__inp__rPtv3\",\"events__left\":\"Events_events__left__ETWb1\",\"events__right\":\"Events_events__right__1uBrW\",\"events__right__container\":\"Events_events__right__container__eLo3O\",\"events__right__btn\":\"Events_events__right__btn__1JuMX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grades\":\"Grades_grades__2u2le\",\"grades__top\":\"Grades_grades__top__3u8Ux\",\"grades__create\":\"Grades_grades__create__2JrD3\",\"grades__head\":\"Grades_grades__head__3BLNM\",\"grades__search\":\"Grades_grades__search__21tZZ\",\"tableCell\":\"Grades_tableCell__jRA4d\",\"refresh\":\"Grades_refresh__Dx03_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3nYW8\",\"settings__container\":\"Settings_settings__container__3ukPY\",\"settings__left\":\"Settings_settings__left__1sqlO\",\"settings__left__desc\":\"Settings_settings__left__desc__1nYqA\",\"settings__right\":\"Settings_settings__right__1iERW\",\"icon\":\"Settings_icon__2l-rN\",\"modal\":\"Settings_modal__23FA4\",\"edit\":\"Settings_edit__1ONox\",\"updatePassword__form\":\"Settings_updatePassword__form__3xipA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"students\":\"Students_students__ZKjfH\",\"students__top\":\"Students_students__top__1Z3tU\",\"students__create\":\"Students_students__create__1MI3q\",\"students__head\":\"Students_students__head__3hRHv\",\"students__search\":\"Students_students__search__2NIvA\",\"students__search__inp\":\"Students_students__search__inp__3lsjQ\",\"filter\":\"Students_filter__Fekg4\",\"filter__option\":\"Students_filter__option__1xX8l\",\"tableCell\":\"Students_tableCell__1S9CW\",\"menuItem\":\"Students_menuItem__1J4jl\",\"refresh\":\"Students_refresh__35FY-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TableData_table__2ESgG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teachers\":\"Teachers_teachers__3xD4q\",\"teachers__top\":\"Teachers_teachers__top__3edNn\",\"teachers__create\":\"Teachers_teachers__create__1iheG\",\"teachers__head\":\"Teachers_teachers__head__3Ih8G\",\"teachers__search\":\"Teachers_teachers__search__CJpqq\",\"teachers__search__inp\":\"Teachers_teachers__search__inp__2GT7I\",\"filter\":\"Teachers_filter__2F3iy\",\"filter__option\":\"Teachers_filter__option__8-BkU\",\"tableCell\":\"Teachers_tableCell__3CTNN\",\"menuItem\":\"Teachers_menuItem__1GCI0\",\"table\":\"Teachers_table__TpIcZ\",\"refresh\":\"Teachers_refresh__RF_eT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3qUkX\",\"sidebar__head\":\"Sidebar_sidebar__head__3_5Y6\",\"sidebar__container\":\"Sidebar_sidebar__container__ao5o8\",\"sidebar__item\":\"Sidebar_sidebar__item__39ebq\",\"active\":\"Sidebar_active__9wFJE\",\"item\":\"Sidebar_item__NlFy1\",\"icon\":\"Sidebar_icon__vghqV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"CreateUser_user__2tAFY\",\"user__head\":\"CreateUser_user__head__2HXfJ\",\"user__container\":\"CreateUser_user__container__1Zy3o\",\"user__img\":\"CreateUser_user__img__2T6kF\",\"user__form\":\"CreateUser_user__form__35n7N\",\"user__form__top\":\"CreateUser_user__form__top__10ARK\",\"user__form__btn\":\"CreateUser_user__form__btn__1pjdP\",\"user__form__bottom\":\"CreateUser_user__form__bottom__xa2tI\",\"user__inp\":\"CreateUser_user__inp__2tZ1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3lWa2\",\"user__head\":\"User_user__head__2EUTJ\",\"user__container\":\"User_user__container__1ghWq\",\"user__desc\":\"User_user__desc__bvO7M\",\"user__desc__container\":\"User_user__desc__container__1iXFQ\",\"user__desc__content\":\"User_user__desc__content__3acyw\",\"user__img\":\"User_user__img__DPQwI\",\"btn\":\"User_btn__kP2t9\",\"modal\":\"User_modal__33QW-\",\"modal__head\":\"User_modal__head__3Wq7y\",\"modal__form__inp\":\"User_modal__form__inp__q5xXS\",\"modal__form__img\":\"User_modal__form__img__34iTC\",\"modal__form__top\":\"User_modal__form__top__qGs75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grade\":\"Grade_grade__3zMF3\",\"grade__header\":\"Grade_grade__header__3VN6H\",\"grade__head\":\"Grade_grade__head__2Q-E4\",\"grade__top\":\"Grade_grade__top__34hpC\",\"grade__top__left\":\"Grade_grade__top__left__165IF\",\"grade__top__right\":\"Grade_grade__top__right__3qRTG\",\"chip\":\"Grade_chip__1cvgC\",\"table\":\"Grade_table__2XiQ0\",\"modal\":\"Grade_modal__NGtgx\",\"modal__form\":\"Grade_modal__form__3Z2Np\",\"modal__item\":\"Grade_modal__item__27MdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grade\":\"CreateGrade_grade__3KU2e\",\"grade__head\":\"CreateGrade_grade__head__OE4Bj\",\"grade__form\":\"CreateGrade_grade__form__1LpXS\",\"grade__form__top\":\"CreateGrade_grade__form__top__REJgt\",\"grade__form__subjects\":\"CreateGrade_grade__form__subjects__1AbkK\",\"grade__form__inp\":\"CreateGrade_grade__form__inp__3GQ4G\",\"grade__form__add\":\"CreateGrade_grade__form__add__28f3a\",\"grade__form__add__search\":\"CreateGrade_grade__form__add__search__W28Hy\",\"grade__form__add__left\":\"CreateGrade_grade__form__add__left__3GsF2\",\"grade__form__add__right\":\"CreateGrade_grade__form__add__right__VN46v\",\"searchedList\":\"CreateGrade_searchedList__3e8fR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"student\":\"Student_student__2En8K\",\"student__head\":\"Student_student__head__3plK9\",\"student__container\":\"Student_student__container__1wNh_\",\"student__desc\":\"Student_student__desc__2vfeN\",\"student__desc__form\":\"Student_student__desc__form__rewS6\",\"student__desc__container\":\"Student_student__desc__container__2k4cY\",\"student__desc__content\":\"Student_student__desc__content__3hjKZ\",\"student__img\":\"Student_student__img__2P2Bm\",\"btn\":\"Student_btn__3zqaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"result\":\"Result_result__3-B2T\",\"result__create\":\"Result_result__create__3N2gE\",\"result__heading\":\"Result_result__heading__3Nbfn\",\"result__container\":\"Result_result__container__2ULJc\",\"result__tableHead\":\"Result_result__tableHead__3PbuC\",\"result__tableBody__item\":\"Result_result__tableBody__item__7DW3r\",\"result__tableBody__img\":\"Result_result__tableBody__img__2d8j3\",\"createResultModal\":\"Result_createResultModal__e2Jap\",\"createResultModal__form\":\"Result_createResultModal__form__35sTf\",\"createResultModal__form__inp\":\"Result_createResultModal__form__inp__BmJeG\",\"preview\":\"Result_preview__3IuvM\",\"btn\":\"Result_btn__mAvjk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"payment\":\"Payment_payment__2eXmA\",\"payment__create\":\"Payment_payment__create__3wzm5\",\"payment__heading\":\"Payment_payment__heading__3i-bs\",\"payment__container\":\"Payment_payment__container__2xuPD\",\"payment__tableHead\":\"Payment_payment__tableHead__1k39t\",\"payment__tableBody__item\":\"Payment_payment__tableBody__item__3QTJd\",\"payment__tableBody__img\":\"Payment_payment__tableBody__img__2fGeT\",\"createPaymentModal\":\"Payment_createPaymentModal__1Zyd8\",\"createPaymentModal__form\":\"Payment_createPaymentModal__form__1BT0P\",\"createPaymentModal__form__inp\":\"Payment_createPaymentModal__form__inp__1qLlS\",\"preview\":\"Payment_preview__XgFhw\",\"btn\":\"Payment_btn__1R_kl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"images\":\"Images_images__MdAKx\",\"images__main\":\"Images_images__main__t4px3\",\"images__container\":\"Images_images__container__UoxGy\",\"images__container__left\":\"Images_images__container__left__1a1EX\",\"images__container__right\":\"Images_images__container__right__2WDHH\",\"images__search\":\"Images_images__search__3zDAN\",\"images__form\":\"Images_images__form__1YyOY\",\"images__form__img\":\"Images_images__form__img__2QzKI\",\"images__form__inp\":\"Images_images__form__inp__2tBsN\",\"images__preview\":\"Images_images__preview__1jJFX\",\"file\":\"Images_file__3tc5u\",\"label\":\"Images_label__7NDow\",\"btn\":\"Images_btn__tTEGN\",\"img\":\"Images_img__2Sxlf\",\"img__overlay\":\"Images_img__overlay__1Sl32\"};","export default __webpack_public_path__ + \"static/media/sprites.d9bd6904.svg\";","import React from 'react';\nimport classes from './Icon.module.scss';\nimport sprites from './../../../assets/icons/sprites.svg';\nfunction Icon(props) {\n  return (\n    <svg\n      className={[classes.icon, props.className].join(' ')}\n      style={props.style}\n      onClick={props.onClick}\n    >\n      <use href={`${sprites}#${props.name}`} />\n    </svg>\n  );\n}\n\nexport default Icon;\n","import { CircularProgress } from '@material-ui/core';\n\nfunction Progress(props) {\n  const progressStyle = {\n    display: props.loading ? 'flex' : 'none',\n    padding: '4rem',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n  return (\n    <div style={progressStyle}>\n      <CircularProgress />\n    </div>\n  );\n}\n\nexport default Progress;\n","import React, { useEffect, useState } from 'react';\nimport classes from './Dashboard.module.scss';\nimport { Paper } from '@material-ui/core';\nimport Icon from '../../../components/UI/Icon/Icon';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport * as actionCreators from './../../../store/actionCreators/index';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { selectUser as SelectUser } from './../../../store/actionCreators/index';\nimport axios from './../../../axios-instance/axiosInstance';\nimport axiosMain from 'axios';\nimport Progress from './../../../components/UI/ProgressBar/ProgressBar';\n\nfunction Dashboard(props) {\n  // Get total number of students\n  const [total, setTotal] = useState('');\n\n  useEffect(() => {\n    const source = axiosMain.CancelToken.source();\n    const fetchData = async () => {\n      try {\n        let res = await axios.get('/api/v1/users/count', {\n          cancelToken: source.token,\n        });\n        setTotal(res.data);\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n    fetchData();\n    return () => {\n      source.cancel();\n    };\n  }, []);\n  return (\n    <div className={classes.dashboard}>\n      <div className={classes.dashboard__top}>\n        <Paper className={classes.dashboard__top__item}>\n          <Icon name='students' />\n          <div>\n            <h2>Total students</h2>\n            <h3>{total.student || '...'}</h3>\n          </div>\n        </Paper>\n        <Paper className={classes.dashboard__top__item}>\n          <Icon name='teachers' />\n          <div>\n            <h2>Total teachers</h2>\n            <h3>{total.teacher || '...'}</h3>\n          </div>\n        </Paper>\n        <Paper className={classes.dashboard__top__item}>\n          <Icon name='grades' />\n          <div>\n            <h2>Total classes</h2>\n            <h3>10</h3>\n          </div>\n        </Paper>\n      </div>\n      {/* bottom content */}\n      <div className={classes.dashboard__bottom}>\n        <TopStudentsTable {...props} />\n      </div>\n      <div className={classes.dashboard__bottom}>\n        <TeachersTable {...props} />\n      </div>\n    </div>\n  );\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n  },\n  container: {\n    maxHeight: 440,\n  },\n});\n\nconst TopStudentsTable = (props) => {\n  const globalState = useSelector((state) => state.students);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  // get all teachers\n  useEffect(() => {\n    // if students are present in the globalState then don't fetch data from server\n    if (globalState.students !== null) return 1;\n    // if the students are not present\n    dispatch(actionCreators.getStudents(setLoading));\n  }, [dispatch, globalState.students]);\n\n  // change route to user with selected user\n  const selectUser = (user) => {\n    dispatch(SelectUser(user));\n    props.history.push(`/admin/user/${user._id}`);\n  };\n  return (\n    <Paper className={classes.topStudents} style={{ overflowY: 'scroll' }}>\n      <TableContainer component={Paper}>\n        <Table sx={{ minWidth: 650 }} stickyHeader aria-label='sticky table'>\n          <TableHead>\n            <TableRow className={classes.topStudents__tableRow}>\n              <TableCell>Top Students</TableCell>\n              <TableCell align='right'>Photo</TableCell>\n              <TableCell align='right'>Grade</TableCell>\n              <TableCell align='right'>Mobile no.</TableCell>\n              <TableCell align='right'>Action</TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {globalState.students &&\n              globalState.students.map((row) => (\n                <TableRow\n                  key={row._id}\n                  className={classes.topStudents__tableCell}\n                  sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                >\n                  <TableCell component='th' scope='row'>\n                    {row.firstname} {row.lastname}\n                  </TableCell>\n                  <TableCell align='right'>\n                    <Avatar style={{ marginLeft: 'auto' }} src={row.profilePic}>\n                      {row.firstname}\n                    </Avatar>\n                  </TableCell>\n                  <TableCell align='right'>{row.grade}</TableCell>\n                  <TableCell align='right'>{row.mobile}</TableCell>\n                  <TableCell align='right'>\n                    <Button\n                      variant='contained'\n                      color='primary'\n                      onClick={() => selectUser(row)}\n                      startIcon={\n                        <Icon\n                          name='eye'\n                          style={{\n                            fill: 'white',\n                            width: '1.5rem',\n                            height: '1.5rem',\n                          }}\n                        />\n                      }\n                      style={{ fontSize: '1.2rem', textTransform: 'none' }}\n                    >\n                      View\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {/* loading */}\n      <Progress loading={loading} />\n    </Paper>\n  );\n};\n\nconst TeachersTable = (props) => {\n  const globalState = useSelector((state) => state.teachers);\n  const dispatch = useDispatch();\n  const styles = useStyles();\n  const [loading, setLoading] = useState(false);\n  // get all teachers\n  useEffect(() => {\n    // if teachers are present in the globalState then don't fetch data from server\n    if (globalState.teachers !== null) return 1;\n    // if the teachers are not present\n    dispatch(actionCreators.getAllTeachers(setLoading));\n  }, [dispatch, globalState.teachers]);\n\n  // change route to user with selected user\n  const selectUser = (user) => {\n    dispatch(SelectUser(user));\n    props.history.push(`/admin/user/${user._id}`);\n  };\n\n  // return all the teachers\n  return (\n    <Paper className={classes.topStudents}>\n      <TableContainer component={Paper} className={styles.container}>\n        <Table stickyHeader aria-label='sticky table'>\n          <TableHead>\n            <TableRow className={classes.topStudents__tableRow}>\n              <TableCell>Teachers</TableCell>\n              <TableCell align='right'>Photo</TableCell>\n              <TableCell align='right'>Mobile no.</TableCell>\n              <TableCell align='right'>Action</TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {globalState.teachers &&\n              globalState.teachers.map((row) => (\n                <TableRow\n                  key={row._id}\n                  className={classes.topStudents__tableCell}\n                >\n                  <TableCell\n                    component='th'\n                    scope='row'\n                    style={{ textTransform: 'capitalize' }}\n                  >\n                    {`${row.firstname} ${row.lastname}`}\n                  </TableCell>\n                  <TableCell align='right'>\n                    <Avatar style={{ marginLeft: 'auto' }} src={row.profilePic}>\n                      {row.firstname}\n                    </Avatar>\n                  </TableCell>\n                  <TableCell align='right'>{row.mobile}</TableCell>\n                  <TableCell align='right'>\n                    <Button\n                      variant='contained'\n                      color='primary'\n                      onClick={() => selectUser(row)}\n                      startIcon={\n                        <Icon\n                          name='eye'\n                          style={{\n                            fill: 'white',\n                            width: '1.5rem',\n                            height: '1.5rem',\n                          }}\n                        />\n                      }\n                      style={{ fontSize: '1.2rem', textTransform: 'none' }}\n                    >\n                      View\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {/* loading */}\n      <Progress loading={loading} />\n    </Paper>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport classes from './Events.module.scss';\nimport { Paper, TextField, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n// import shortenText from '../../../utlis/shortenText';\nimport axiosInstance from '../../../axios-instance/axiosInstance.js';\nimport { CircularProgress } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => {\n  return {\n    root: {\n      width: '100%',\n      display: 'block',\n      marginBottom: '2rem',\n      '& > *': {\n        width: '100%',\n        fontSize: '1.6rem ',\n      },\n      '& .MuiInputBase-root': {\n        width: '100%',\n      },\n      '& .MuiOutlinedInput-input': {\n        height: '15rem',\n      },\n    },\n    btn: {\n      textTransform: 'none',\n      fontSize: '1.6rem',\n      marginLeft: 'auto',\n      display: 'block',\n      width: '15rem',\n    },\n  };\n});\n\nfunction Events() {\n  const styles = useStyles();\n  const [events, setEvents] = useState([]); //list to store events\n  const [loading, setLoading] = useState(true); //used to show circular progress when data is being fetched\n\n  useEffect(() => {\n    getEvents(); //get events in db as soon as the component mounts.\n  }, []);\n\n  function getEvents() {\n    //api call to retrieve events.\n    axiosInstance\n      .get('api/v1/events')\n      .then(function (response) {\n        setEvents(response.data.events);\n        setLoading(false);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    var _name = e.target[0].value;\n    var _description = e.target[2].value;\n\n    //api call to store the field values.\n    await axiosInstance\n      .post('/api/v1/events', {\n        name: _name,\n        description: _description,\n      })\n      .then(function (response) {\n        console.log(response);\n        setEvents((events) =>\n          events.concat({ name: _name, description: _description })\n        );\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  return (\n    <div className={classes.events}>\n      <div className={classes.events__container}>\n        <Paper className={classes.events__left}>\n          <h2 className={classes.events__head}>Create events</h2>\n          <form className={classes.events__form} onSubmit={handleSubmit}>\n            <TextField\n              id='outlined-basic'\n              label='Event topic'\n              variant='outlined'\n              className={classes.events__form__inp}\n            />\n            <TextField\n              id='outlined-multiline-static'\n              label='Message'\n              multiline\n              rows={4}\n              className={styles.root}\n              variant='outlined'\n            />\n            <Button\n              type='submit'\n              variant='contained'\n              className={styles.btn}\n              color='primary'\n            >\n              Submit\n            </Button>\n          </form>\n        </Paper>\n        <Paper className={classes.events__right}>\n          {/* heading */}\n          <h2 className={classes.events__head} style={{ marginBottom: '0' }}>\n            Recent events\n          </h2>\n          {loading && <CircularProgress />}\n          {!loading && (\n            <div className={classes.events__right__container}>\n              {events.map((eve, id) => (\n                <div key={id} className={classes.events__item}>\n                  <h2>{eve.name}</h2>\n                  <p>{eve.description}</p>\n                </div>\n              ))}\n            </div>\n          )}\n          {/* button */}\n          <Button\n            className={classes.events__right__btn}\n            variant='contained'\n            color='secondary'\n          >\n            Load more\n          </Button>\n        </Paper>\n      </div>\n    </div>\n  );\n}\n\nexport default Events;\n","import React, { useEffect, useState } from 'react';\nimport classes from './Grades.module.scss';\nimport { Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport { Button, TextField } from '@material-ui/core';\nimport Icon from './../../../components/UI/Icon/Icon';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Avatar, IconButton, CircularProgress } from '@material-ui/core';\nimport { getAllGrades } from './../../../store/actionCreators/index';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from '../../../axios-instance/axiosInstance';\n\nfunction Grades() {\n  const [batch, setBatch] = useState('');\n  const [filteredGrades, setFilteredGrades] = useState(null);\n\n  const getFilteredGrades = async (e) => {\n    e.preventDefault();\n    try {\n      if (batch === '') return;\n      let res = await axios.get(\n        `/api/v1/grade?batch=${batch}&populate=allStudents,classTeacher`\n      );\n      setFilteredGrades(res.data.grades);\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n  return (\n    <Paper className={classes.grades}>\n      <div className={classes.grades__top}>\n        <div className={classes.grades__search}>\n          <h2 className={classes.grades__head}>List of all grades</h2>\n          <Link to='/admin/createGrade'>\n            <Button\n              startIcon={\n                <Icon name='plus' style={{ fill: 'white', width: '1.5rem' }} />\n              }\n              variant='contained'\n              color='secondary'\n            >\n              Create new grade\n            </Button>\n          </Link>\n        </div>\n\n        <div className={classes.grades__create}>\n          <h3>\n            <span>Filter options</span>\n            <Icon name='filter' />\n          </h3>\n          <form onSubmit={getFilteredGrades}>\n            <TextField\n              label='Batch'\n              variant='outlined'\n              type='number'\n              className={classes.inp}\n              value={batch}\n              onChange={(e) => setBatch(e.target.value)}\n            />\n          </form>\n          <Icon\n            name='refresh'\n            onClick={() => setFilteredGrades(null)}\n            className={classes.refresh}\n          />\n        </div>\n      </div>\n\n      <StickyHeadTable filteredGrades={filteredGrades} />\n    </Paper>\n  );\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n  },\n  container: {\n    maxHeight: 440,\n  },\n});\n\nfunction Progress(props) {\n  const progressStyle = {\n    display: props.loading ? 'flex' : 'none',\n    padding: '4rem',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n  return (\n    <div style={progressStyle}>\n      <CircularProgress />\n    </div>\n  );\n}\n\nfunction StickyHeadTable(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const globalState = useSelector((state) => state.grade);\n  // const [filteredGrades, setFilteredGrades] = useState(null);\n\n  useEffect(() => {\n    if (globalState.allGrades) return;\n    dispatch(getAllGrades());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // select grade and change route\n  const changeRoute = (data) => {\n    history.push('/admin/grades/' + data._id);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label='sticky table'>\n          <TableHead>\n            <TableRow>\n              <TableCell\n                align='left'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Class teacher\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Photo\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Grade\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Mobile\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Batch\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Actions\n              </TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {/* Grades after filter */}\n            {props.filteredGrades &&\n              props.filteredGrades.map((row, id) => {\n                return (\n                  <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='left'>\n                      {row.classTeacher.firstname} {row.classTeacher.lastname}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      <Avatar\n                        alt='Cindy Baker'\n                        src={row.classTeacher.profilePic}\n                        style={{ marginLeft: 'auto' }}\n                      />\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      {row.name}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      {row.classTeacher.mobile || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      {new Date(row.batch).getFullYear() || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      <IconButton onClick={() => changeRoute(row)}>\n                        <Icon name='eye' style={{ fill: '#444' }} />\n                      </IconButton>\n\n                      {/* <IconButton>\n                        <Icon name='edit' style={{ fill: '#3f51b5' }} />\n                      </IconButton> */}\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            {/* if grades are not filtered */}\n            {!props.filteredGrades &&\n              globalState.allGrades &&\n              globalState.allGrades.map((row, id) => {\n                return (\n                  <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='left'>\n                      {row.classTeacher.firstname} {row.classTeacher.lastname}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      <Avatar\n                        alt='Cindy Baker'\n                        src={row.classTeacher.profilePic}\n                        style={{ marginLeft: 'auto' }}\n                      />\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      {row.name}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      {row.classTeacher.mobile || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      {new Date(row.batch).getFullYear() || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.6rem' }} align='right'>\n                      <IconButton onClick={() => changeRoute(row)}>\n                        <Icon name='eye' style={{ fill: '#444' }} />\n                      </IconButton>\n\n                      <IconButton>\n                        <Icon name='edit' style={{ fill: '#3f51b5' }} />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {/* circular progress */}\n      {/* <CircularProgress\n        style={{ display: !globalState.allGrades ? 'block' : 'none' }}\n      /> */}\n      <Progress loading={!globalState.allGrades} />\n    </Paper>\n  );\n}\n\nexport default Grades;\n","import React, { useState } from 'react';\nimport classes from './Settings.module.scss';\nimport Icon from '../../../components/UI/Icon/Icon';\nimport { TextField, Button, Paper, Modal } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updateAdmin } from '../../../store/actionCreators/index';\n\nconst useStyles = makeStyles(() => {\n  return {\n    btn: {\n      fontSize: '1.4rem',\n      width: '100%',\n    },\n    inp: {\n      width: '100%',\n      '& > *': {\n        fontSize: '1.4rem',\n      },\n    },\n  };\n});\n\nfunction Settings() {\n  const globalState = useSelector((state) => state.user);\n  return (\n    <Paper className={classes.settings}>\n      <h2>Settings</h2>\n      <div className={classes.settings__container}>\n        <div className={classes.settings__left}>\n          <div className={classes.settings__left__desc}>\n            <p>\n              <strong>Firstname:</strong>\n            </p>\n            <p>{globalState.user.firstname}</p>\n          </div>\n          <div className={classes.settings__left__desc}>\n            <p>\n              <strong>Lastname:</strong>\n            </p>\n            <p>{globalState.user.lastname}</p>\n          </div>\n          <div className={classes.settings__left__desc}>\n            <p>\n              <strong>Email address:</strong>\n            </p>\n            <p style={{ textTransform: 'none' }}>{globalState.user.email}</p>\n          </div>\n          <div className={classes.settings__left__desc}>\n            <p>\n              <strong>Role:</strong>\n            </p>\n            <p>{globalState.user.role}</p>\n          </div>\n          <div className={classes.settings__left__desc}>\n            <p>\n              <strong>Mobile:</strong>\n            </p>\n            <p>{globalState.user.mobile}</p>\n          </div>\n          <div className={classes.settings__left__desc}>\n            <p>\n              <strong>Gender:</strong>\n            </p>\n            <p>Male</p>\n          </div>\n          <EditModal user={globalState.user} />\n        </div>\n        <div className={classes.settings__right}>\n          {/* {!globalState.user.profilePic && (\n            <Icon name='user' className={classes.icon} />\n          )}\n          {globalState.user &&\n            globalState.user.profilePic(\n              <img\n                src={globalState.user.profilePic}\n                className={classes.icon}\n                alt='profile'\n                style={{ width: '30rem', height: '30rem' }}\n              />\n            )} */}\n          {!globalState.user.profilePic && (\n            <Icon name='user' className={classes.icon} />\n          )}\n          {globalState.user.profilePic && (\n            <img\n              src={globalState.user.profilePic}\n              className={classes.icon}\n              alt='profile'\n              style={{ width: '30rem', height: '30rem' }}\n            />\n          )}\n          {console.log(globalState.user.profilePic)}\n        </div>\n      </div>\n    </Paper>\n  );\n}\n\nfunction EditModal(props) {\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [firstname, setFirstname] = useState(props.user.firstname || '');\n  const [lastname, setLastname] = useState(props.user.lastname || '');\n  const [email, setEmail] = useState(props.user.email || '');\n  const [mobile, setMobile] = useState(props.user.mobile || '');\n  const [imgSrc, setImgSrc] = useState(props.user.profilePic || '');\n  const [loading, setLoading] = useState(false);\n  const styles = useStyles();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const data = {\n      firstname,\n      lastname,\n      email,\n      mobile,\n      profilePic: imgSrc,\n      id: props.user._id,\n    };\n    dispatch(updateAdmin(data, setLoading));\n  };\n\n  return (\n    <div>\n      <Button\n        onClick={() => setOpen(true)}\n        variant='contained'\n        color='secondary'\n        classes={{ root: styles.btn }}\n        style={{ width: 'max-content' }}\n      >\n        Edit details\n      </Button>\n      <Modal open={open} onClose={() => setOpen(false)}>\n        <Paper className={classes.modal}>\n          <form onSubmit={submitHandler} className={classes.edit}>\n            <h3>Edit details</h3>\n            <TextField\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              label='Firstname'\n              value={firstname}\n              onChange={(e) => setFirstname(e.target.value)}\n            />\n            <TextField\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              label='Lastname'\n              value={lastname}\n              onChange={(e) => setLastname(e.target.value)}\n            />\n            <TextField\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              label='Email address'\n              type='email'\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              label='Mobile'\n              type='number'\n              value={mobile}\n              onChange={(e) => setMobile(e.target.value)}\n            />\n            <TextField\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              label='Image src'\n              type='text'\n              value={imgSrc}\n              onChange={(e) => setImgSrc(e.target.value)}\n            />\n            <Button\n              classes={{ root: styles.btn }}\n              variant='contained'\n              color='secondary'\n              type='submit'\n              disabled={loading}\n            >\n              {loading ? 'Please wait...' : 'Edit'}\n            </Button>\n          </form>\n        </Paper>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Settings;\n","import React from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport classes from './TableData.module.scss';\nimport { IconButton, Avatar } from '@material-ui/core';\nimport Icon from './../UI/Icon/Icon';\nimport { imgUrl } from './../../containers/Admin/Admin';\n\nfunction TableData(props) {\n  return (\n    <React.Fragment>\n      <TableCell className={classes.table} align='left'>\n        {`${props.firstname} ${props.lastname}`}\n      </TableCell>\n      <TableCell className={classes.table} align='right'>\n        <Avatar\n          alt='Cindy Baker'\n          src={props.profilePic || imgUrl}\n          style={{ marginLeft: 'auto' }}\n        />\n      </TableCell>\n      <TableCell className={classes.table} align='right'>\n        {props.grade}\n      </TableCell>\n      <TableCell className={classes.table} align='right'>\n        {props.mobile || 'n/a'}\n      </TableCell>\n      <TableCell className={classes.table} align='right'>\n        {new Date(props.batch).getFullYear() || 'n/a'}\n      </TableCell>\n      <TableCell className={classes.table} align='right'>\n        <div>\n          <IconButton onClick={() => props.selectUser(props)}>\n            <Icon name='eye' style={{ fill: '#444' }} />\n          </IconButton>\n\n          <IconButton>\n            <Icon name='edit' style={{ fill: '#3f51b5' }} />\n          </IconButton>\n        </div>\n      </TableCell>\n    </React.Fragment>\n  );\n}\n\nexport default TableData;\n","import React, { useEffect, useState } from 'react';\nimport classes from './Students.module.scss';\nimport { Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TextField from '@material-ui/core/TextField';\nimport { Button } from '@material-ui/core';\nimport Icon from './../../../components/UI/Icon/Icon';\nimport TableData from '../../../components/TableData/TableData';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getStudents } from './../../../store/actionCreators/index';\nimport { useHistory, Link } from 'react-router-dom';\nimport axios from '../../../axios-instance/axiosInstance';\nimport Progress from '../../../components/UI/ProgressBar/ProgressBar';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n  },\n  container: {\n    maxHeight: 440,\n  },\n});\n\nfunction Students() {\n  const [name, setName] = useState('');\n  const [searchedStudents, setSearchedStudents] = useState(null);\n  const [searchStudentLoading, setSearchStudentLoading] = useState(false);\n\n  // search student based on name\n  const searchStudent = async (e) => {\n    e.preventDefault();\n    setSearchStudentLoading(true);\n    try {\n      if (name === '') throw new Error('Enter valid name');\n      let res = await axios.get('/api/v1/users/searchUser/student/' + name);\n      setSearchedStudents(res.data.users);\n    } catch (err) {\n      console.log(err.message);\n    }\n    setSearchStudentLoading(false);\n    setName('');\n  };\n  return (\n    <Paper className={classes.students}>\n      <div className={classes.students__top}>\n        <form onSubmit={searchStudent} className={classes.students__search}>\n          <h2 className={classes.students__head}>List of all students</h2>\n          <Icon\n            name='refresh'\n            onClick={() => setSearchedStudents(null)}\n            className={classes.refresh}\n          />\n          <TextField\n            id='outlined-basic'\n            className={classes.students__search__inp}\n            label='Students...'\n            variant='outlined'\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <Button\n            startIcon={\n              <Icon name='search' style={{ fill: 'white', width: '1.5rem' }} />\n            }\n            variant='contained'\n            color='primary'\n            disabled={searchStudentLoading}\n            type='submit'\n          >\n            {searchStudentLoading ? 'Searching...' : 'Search'}\n          </Button>\n        </form>\n        <div className={classes.students__create}>\n          <Link to='/admin/createUser'>\n            <Button\n              startIcon={\n                <Icon name='plus' style={{ fill: 'white', width: '1.5rem' }} />\n              }\n              variant='contained'\n              color='secondary'\n            >\n              Create new user\n            </Button>\n          </Link>\n        </div>\n      </div>\n\n      <MemoizedStickyTable searchedStudents={searchedStudents} />\n    </Paper>\n  );\n}\n\nfunction StickyHeadTable(props) {\n  const [loading, setLoading] = useState(false);\n  const globalState = useSelector((state) => state.students);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (globalState.students) return 1;\n    dispatch(getStudents(setLoading));\n  }, [dispatch, globalState]);\n\n  // change route to user with selected user\n  const selectUser = (user) => {\n    history.push(`/admin/user/${user._id}`);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label='sticky table'>\n          <TableHead>\n            <TableRow>\n              <TableCell\n                align='left'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Name\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Photo\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Grade\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Mobile\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Batch\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Actions\n              </TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {/* if empty student then */}\n            {props.searchedStudents && props.searchedStudents.length === 0 ? (\n              <TableRow>\n                <TableCell>No student found</TableCell>\n              </TableRow>\n            ) : null}\n            {/* if there is searched student */}\n            {props.searchedStudents &&\n              props.searchedStudents.length !== 0 &&\n              props.searchedStudents.map((item, id) => {\n                return (\n                  <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                    <TableData {...item} selectUser={selectUser} type='user' />\n                  </TableRow>\n                );\n              })}\n            {/* Default list of students */}\n            {!props.searchedStudents &&\n              globalState.students &&\n              globalState.students.map((row, id) => {\n                return (\n                  <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                    <TableData {...row} selectUser={selectUser} type='user' />\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {/* loading */}\n      <Progress loading={loading} />\n    </Paper>\n  );\n}\n\nconst MemoizedStickyTable = React.memo(StickyHeadTable);\n\nexport default Students;\n","import React, { useEffect, useState } from 'react';\nimport classes from './Teachers.module.scss';\nimport { Paper, Avatar, IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TextField from '@material-ui/core/TextField';\nimport { Button } from '@material-ui/core';\nimport Icon from './../../../components/UI/Icon/Icon';\nimport { useHistory } from 'react-router';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { imgUrl } from '../Admin';\nimport axios from './../../../axios-instance/axiosInstance';\n\nimport { getAllTeachers } from './../../../store/actionCreators/index';\nimport Progress from './../../../components/UI/ProgressBar/ProgressBar';\n\nfunction Teachers() {\n  const [name, setName] = useState('');\n  const [searchTeacherLoading, setSearchTeacherLoading] = useState(false);\n  const [searchedTeachers, setSearchedTeachers] = useState([]);\n\n  // search teacher\n  const searchTeacher = async (e) => {\n    e.preventDefault();\n    setSearchTeacherLoading(true);\n    try {\n      if (name === '') throw new Error('Enter valid name');\n      let res = await axios.get('/api/v1/users/searchUser/teacher/' + name);\n      setSearchedTeachers(res.data.users);\n    } catch (err) {\n      console.log(err.message);\n    }\n    setSearchTeacherLoading(false);\n    setName('');\n  };\n  return (\n    <Paper className={classes.teachers}>\n      <div className={classes.teachers__top}>\n        <form onSubmit={searchTeacher} className={classes.teachers__search}>\n          <h2 className={classes.teachers__head}>List of all teachers</h2>\n          <Icon\n            name='refresh'\n            onClick={() => setSearchedTeachers([])}\n            className={classes.refresh}\n          />\n          <TextField\n            id='outlined-basic'\n            className={classes.teachers__search__inp}\n            label='Teachers...'\n            variant='outlined'\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <Button\n            startIcon={\n              <Icon name='search' style={{ fill: 'white', width: '1.5rem' }} />\n            }\n            variant='contained'\n            color='primary'\n            type='submit'\n            disabled={searchTeacherLoading}\n          >\n            {searchTeacherLoading ? 'Searching...' : 'Search'}\n          </Button>\n        </form>\n      </div>\n\n      <MemoizedStickyTable searchedTeachers={searchedTeachers} />\n    </Paper>\n  );\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n  },\n  container: {\n    maxHeight: 440,\n  },\n});\n\nfunction StickyHeadTable(props) {\n  const [loading, setLoading] = useState(false);\n  const globalState = useSelector((state) => state.teachers);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (globalState.teachers) return 1;\n    dispatch(getAllTeachers(setLoading));\n  }, [dispatch, globalState]);\n  // change route to user with selected user\n  const selectUser = (user) => {\n    history.push(`/admin/user/${user._id}`);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table stickyHeader aria-label='sticky table'>\n          <TableHead>\n            <TableRow>\n              <TableCell\n                align='left'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Name\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Photo\n              </TableCell>\n              {/* <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Grade\n              </TableCell> */}\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Mobile\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Batch\n              </TableCell>\n              <TableCell\n                align='right'\n                style={{ fontSize: '1.8rem', color: '#666', fontWeight: '400' }}\n              >\n                Actions\n              </TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {/* searched teachers */}\n            {props.searchedTeachers.length !== 0 &&\n              props.searchedTeachers.map((row, id) => {\n                return (\n                  <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='left'>\n                      {`${row.firstname} ${row.lastname}`}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      <Avatar\n                        alt='Cindy Baker'\n                        src={row.profilePic || imgUrl}\n                        style={{ marginLeft: 'auto' }}\n                      />\n                    </TableCell>\n                    {/* <TableCell style={{fontSize: '1.4re''}} align='right'>\n                    {row.grade}\n                  </TableCell> */}\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      {row.mobile || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      {new Date(row.batch).getFullYear() || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      <div>\n                        <IconButton onClick={() => selectUser(row)}>\n                          <Icon name='eye' style={{ fill: '#444' }} />\n                        </IconButton>\n\n                        <IconButton>\n                          <Icon name='edit' style={{ fill: '#3f51b5' }} />\n                        </IconButton>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            {props.searchedTeachers.length === 0 &&\n              globalState.teachers &&\n              globalState.teachers.map((row, id) => {\n                return (\n                  <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='left'>\n                      {`${row.firstname} ${row.lastname}`}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      <Avatar\n                        alt='Cindy Baker'\n                        src={row.profilePic || imgUrl}\n                        style={{ marginLeft: 'auto' }}\n                      />\n                    </TableCell>\n                    {/* <TableCell style={{fontSize: '1.4re''}} align='right'>\n                      {row.grade}\n                    </TableCell> */}\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      {row.mobile || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      {new Date(row.batch).getFullYear() || 'n/a'}\n                    </TableCell>\n                    <TableCell style={{ fontSize: '1.4rem' }} align='right'>\n                      <div>\n                        <IconButton onClick={() => selectUser(row)}>\n                          <Icon name='eye' style={{ fill: '#444' }} />\n                        </IconButton>\n\n                        <IconButton>\n                          <Icon name='edit' style={{ fill: '#3f51b5' }} />\n                        </IconButton>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {/* loading */}\n      <Progress loading={loading} />\n    </Paper>\n  );\n}\n\nconst MemoizedStickyTable = React.memo(StickyHeadTable);\n\nexport default Teachers;\n","import React from 'react';\nimport classes from './Sidebar.module.scss';\nimport Icon from '../UI/Icon/Icon';\nimport { NavLink } from 'react-router-dom';\n\nfunction Sidebar(props) {\n  return (\n    <div className={classes.sidebar}>\n      <h2 className={classes.sidebar__head}>\n        <span>Admin</span>\n      </h2>\n\n      <ul className={classes.sidebar__container}>\n        <NavLink\n          to='/admin'\n          exact\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='dashboard' className={classes.icon} />\n          <span className={classes.item}>Dashboard</span>\n        </NavLink>\n        <NavLink\n          to='/admin/students'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='students' className={classes.icon} />\n          <span className={classes.item}>Students</span>\n        </NavLink>\n        <NavLink\n          to='/admin/images'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='image' className={classes.icon} />\n          <span className={classes.item}>Images</span>\n        </NavLink>\n        <NavLink\n          to='/admin/teachers'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='teachers' className={classes.icon} />\n          <span className={classes.item}>Teachers</span>\n        </NavLink>\n        <NavLink\n          to='/admin/createUser'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='user' className={classes.icon} />\n          <span className={classes.item}>Create user</span>\n        </NavLink>\n        <NavLink\n          to='/admin/events'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='events' className={classes.icon} />\n          <span className={classes.item}>Events</span>\n        </NavLink>\n\n        <NavLink\n          to='/admin/grades'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='grades' className={classes.icon} />\n          <span className={classes.item}>Grades</span>\n        </NavLink>\n        <NavLink\n          to='/admin/settings'\n          className={classes.sidebar__item}\n          activeClassName={classes.active}\n        >\n          <Icon name='settings' className={classes.icon} />\n          <span className={classes.item}>Settings</span>\n        </NavLink>\n      </ul>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React, { useState } from 'react';\nimport classes from './CreateUser.module.scss';\nimport Paper from '@material-ui/core/Paper';\nimport { FormHelperText, TextField } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport {\n  OutlinedInput,\n  InputAdornment,\n  IconButton,\n  Button,\n} from '@material-ui/core';\nimport Icon from './../../../components/UI/Icon/Icon';\nimport { createUser } from './../../../store/actionCreators/index';\nimport { useDispatch } from 'react-redux';\nimport { useFormik } from 'formik';\n\n// validate input fields\nconst validate = (values) => {\n  const errors = {};\n  if (!values.firstName) {\n    errors.firstName = 'Required';\n  }\n  if (!values.lastName) {\n    errors.lastName = 'Required';\n  }\n  if (!values.email) {\n    errors.email = 'Required';\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = 'Invalid email address';\n  }\n  if (!values.mobile) {\n    errors.mobile = 'Required';\n  }\n  if (!values.age) {\n    errors.age = 'Required';\n  }\n  if (!values.password) {\n    errors.password = 'Required';\n  }\n  if (!values.confirmPassword) {\n    errors.confirmPassword = 'Required';\n  }\n  if (values.password !== values.confirmPassword) {\n    errors.confirmPassword = 'Password doesnot match';\n  }\n\n  return errors;\n};\n\nfunction CreateUser() {\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  const [loading, setLoading] = useState(false);\n\n  const dispatch = useDispatch();\n  const formik = useFormik({\n    initialValues: {\n      firstName: '',\n      middleName: '',\n      lastName: '',\n      email: '',\n      mobile: 0,\n      age: 0,\n      imgUrl: '',\n      grade: '',\n      batch: '',\n      password: '',\n      confirmPassword: '',\n      role: 'student',\n      gender: 'male',\n    },\n    validate,\n    onSubmit: (vals) => {\n      submitHandler();\n    },\n  });\n\n  const submitHandler = () => {\n    dispatch(\n      createUser(\n        {\n          firstname: formik.values.firstName,\n          lastname: formik.values.lastName,\n          middlename: formik.values.middleName,\n          email: formik.values.email,\n          password: formik.values.password,\n          confirmPassword: formik.values.confirmPassword,\n          age: formik.values.age,\n          role: formik.values.role,\n          mobile: formik.values.mobile,\n          profilePic: formik.values.imgUrl,\n          gender: formik.values.gender,\n          grade: formik.values.grade,\n          batch: formik.values.batch,\n        },\n        setLoading\n      )\n    );\n  };\n\n  return (\n    <Paper className={classes.user}>\n      <h2 className={classes.user__head}>Create new user</h2>\n      <div className={classes.user__container}>\n        <form onSubmit={formik.handleSubmit} className={classes.user__form}>\n          <div className={classes.user__form__top}>\n            <TextField\n              label='Firstname'\n              className={classes.user__inp}\n              variant='outlined'\n              name='firstName'\n              {...formik.getFieldProps('firstName')}\n              error={formik.errors.firstName && formik.touched.firstName}\n              helperText={formik.touched.firstName && formik.errors.firstName}\n            />\n            <TextField\n              label='Middlename'\n              className={classes.user__inp}\n              variant='outlined'\n              name='middleName'\n              {...formik.getFieldProps('middleName')}\n            />\n            <TextField\n              label='Lastname'\n              className={classes.user__inp}\n              variant='outlined'\n              name='lastName'\n              {...formik.getFieldProps('lastName')}\n              error={formik.errors.lastName && formik.touched.lastName}\n              helperText={formik.touched.lastName && formik.errors.lastName}\n            />\n          </div>\n          <div className={classes.user__form__bottom}>\n            <TextField\n              label='Email address'\n              type='email'\n              className={classes.user__inp}\n              variant='outlined'\n              name='email'\n              {...formik.getFieldProps('email')}\n              error={formik.errors.email && formik.touched.email}\n              helperText={formik.touched.email && formik.errors.email}\n            />\n            <TextField\n              label='Mobile number'\n              type='number'\n              className={classes.user__inp}\n              variant='outlined'\n              name='mobile'\n              {...formik.getFieldProps('mobile')}\n              error={formik.errors.mobile && formik.touched.mobile}\n              helperText={formik.touched.mobile && formik.errors.mobile}\n            />\n          </div>\n          <div className={classes.user__form__bottom}>\n            <TextField\n              label='Age'\n              type='number'\n              className={classes.user__inp}\n              variant='outlined'\n              name='age'\n              {...formik.getFieldProps('age')}\n              error={formik.errors.age && formik.touched.age}\n              helperText={formik.touched.age && formik.errors.age}\n            />\n\n            <FormControl variant='outlined' className={classes.user__inp}>\n              <InputLabel id='demo-simple-select-outlined-label'>\n                Role\n              </InputLabel>\n              <Select\n                labelId='demo-simple-select-outlined-label'\n                id='demo-simple-select-outlined'\n                name='role'\n                {...formik.getFieldProps('role')}\n                label='Role'\n                error={formik.errors.role && formik.touched.role}\n                // helperText={formik.touched.role && formik.errors.role}\n              >\n                <MenuItem value='' style={{ fontSize: '1.4rem' }}>\n                  <em>None</em>\n                </MenuItem>\n                <MenuItem value={'student'} style={{ fontSize: '1.4rem' }}>\n                  Student\n                </MenuItem>\n                <MenuItem value={'teacher'} style={{ fontSize: '1.4rem' }}>\n                  Teacher\n                </MenuItem>\n                <MenuItem value={'admin'} style={{ fontSize: '1.4rem' }}>\n                  Admin\n                </MenuItem>\n              </Select>\n            </FormControl>\n            <TextField\n              label='Image url'\n              type='text'\n              className={classes.user__inp}\n              variant='outlined'\n              name='imgUrl'\n              {...formik.getFieldProps('imgUrl')}\n            />\n          </div>\n\n          <div\n            className={classes.user__form__bottom}\n            style={{\n              display: formik.values.role === 'student' ? 'flex' : 'none',\n            }}\n          >\n            <TextField\n              label='Grade'\n              type='number'\n              className={classes.user__inp}\n              variant='outlined'\n              name='grade'\n              {...formik.getFieldProps('grade')}\n            />\n            <TextField\n              label='Batch'\n              type='number'\n              className={classes.user__inp}\n              variant='outlined'\n              name='batch'\n              {...formik.getFieldProps('batch')}\n            />\n          </div>\n          <div className={classes.user__form__bottom}>\n            <FormControl variant='outlined' className={classes.user__inp}>\n              <InputLabel htmlFor='outlined-adornment-password'>\n                Password\n              </InputLabel>\n              <OutlinedInput\n                id='outlined-adornment-password'\n                type={showPassword ? 'text' : 'password'}\n                name='password'\n                {...formik.getFieldProps('password')}\n                error={formik.errors.password && formik.touched.password}\n                endAdornment={\n                  <InputAdornment position='end'>\n                    <IconButton\n                      aria-label='toggle password visibility'\n                      onClick={() => setShowPassword(!showPassword)}\n                      // onMouseDown={handleMouseDownPassword}\n                      edge='end'\n                    >\n                      {showPassword ? (\n                        <Icon name='visibilityOn' />\n                      ) : (\n                        <Icon name='visibilityOff' />\n                      )}\n                    </IconButton>\n                  </InputAdornment>\n                }\n                labelWidth={70}\n              />\n              <FormHelperText\n                error={formik.errors.password && formik.touched.password}\n                id='component-error-text'\n              >\n                {formik.touched.password && formik.errors.password}\n              </FormHelperText>\n            </FormControl>\n            <FormControl variant='outlined' className={classes.user__inp}>\n              <InputLabel htmlFor='outlined-adornment-password'>\n                Confirm Password\n              </InputLabel>\n              <OutlinedInput\n                type={showConfirmPassword ? 'text' : 'password'}\n                name='confirmPassword'\n                {...formik.getFieldProps('confirmPassword')}\n                error={\n                  formik.errors.confirmPassword &&\n                  formik.touched.confirmPassword\n                }\n                endAdornment={\n                  <InputAdornment position='end'>\n                    <IconButton\n                      aria-label='toggle password visibility'\n                      onClick={() =>\n                        setShowConfirmPassword(!showConfirmPassword)\n                      }\n                      // onMouseDown={handleMouseDownPassword}\n                      edge='end'\n                    >\n                      {showConfirmPassword ? (\n                        <Icon name='visibilityOn' />\n                      ) : (\n                        <Icon name='visibilityOff' />\n                      )}\n                    </IconButton>\n                  </InputAdornment>\n                }\n                labelWidth={70}\n              />\n              <FormHelperText\n                error={\n                  formik.errors.confirmPassword &&\n                  formik.touched.confirmPassword\n                }\n                id='component-error-text'\n              >\n                {formik.touched.confirmPassword &&\n                  formik.errors.confirmPassword}\n              </FormHelperText>\n            </FormControl>\n          </div>\n\n          <div className={classes.user__form__bottom}>\n            <FormControl component='fieldset' className={classes.user__inp}>\n              <FormLabel component='legend' style={{ fontSize: '1.4rem' }}>\n                Gender\n              </FormLabel>\n              <RadioGroup\n                row\n                aria-label='position'\n                defaultValue='top'\n                name='gender'\n                {...formik.getFieldProps('gender')}\n              >\n                <FormControlLabel\n                  value='male'\n                  control={<Radio color='primary' />}\n                  label='Male'\n                  labelPlacement='start'\n                />\n                <FormControlLabel\n                  value='female'\n                  control={<Radio color='primary' />}\n                  label='Female'\n                  labelPlacement='start'\n                />\n                <FormControlLabel\n                  value='other'\n                  control={<Radio color='primary' />}\n                  label='Other'\n                  labelPlacement='start'\n                />\n              </RadioGroup>\n            </FormControl>\n          </div>\n          <Button\n            variant='contained'\n            className={classes.user__form__btn}\n            color='primary'\n            type='submit'\n            disabled={loading}\n          >\n            {loading ? 'Please wait...' : 'Create user'}\n          </Button>\n        </form>\n      </div>\n    </Paper>\n  );\n}\n\nexport default CreateUser;\n","import { useState, useEffect } from 'react';\nimport { Paper } from '@material-ui/core';\nimport React from 'react';\nimport classes from './User.module.scss';\nimport { imgUrl } from './../Admin';\nimport { Button, Modal, TextField } from '@material-ui/core';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { updateUser, getUser } from './../../../store/actionCreators/index';\nimport { connect, useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport Progress from '../../../components/UI/ProgressBar/ProgressBar';\n\nfunction User(props) {\n  const dispatch = useDispatch();\n  const [showEditModal, setShowEditModal] = useState(false);\n  const location = useLocation();\n  const userId = location.pathname.split('/')[3];\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    // get selected user\n    dispatch(getUser(userId, setLoading));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (!props.user.selectedUser) {\n    return <Progress loading={loading} />;\n  }\n\n  return (\n    <Paper className={classes.user}>\n      {/* Edit user modal goes here */}\n      <EditUserModal\n        open={showEditModal}\n        {...props.user.selectedUser}\n        onClose={() => setShowEditModal(false)}\n        userId={userId}\n        updateUser={props.updateUser}\n      />\n      <div className={classes.user__container}>\n        <div className={classes.user__img}>\n          <img src={props.user.selectedUser.profilePic || imgUrl} alt='user' />\n        </div>\n        <div className={classes.user__desc}>\n          <h2 className={classes.user__head}>User details</h2>\n\n          <div className={classes.user__desc__container}>\n            <div className={classes.user__desc__content}>\n              <p>Fullname:</p>\n              <p\n                style={{ textTransform: 'capitalize' }}\n              >{`${props.user.selectedUser.firstname} ${props.user.selectedUser.lastname}`}</p>\n            </div>\n            <div className={classes.user__desc__content}>\n              <p>Email address:</p>\n              <p>{props.user.selectedUser.email}</p>\n            </div>\n            <div className={classes.user__desc__content}>\n              <p>Mobile:</p>\n              <p>{props.user.selectedUser.mobile || 'n/a'}</p>\n            </div>\n            <div className={classes.user__desc__content}>\n              <p>Role:</p>\n              <p>{props.user.selectedUser.role}</p>\n            </div>\n            <div className={classes.user__desc__content}>\n              <p>Grade:</p>\n              <p>{props.user.selectedUser.grade || 'n/a'}</p>\n            </div>\n            <div className={classes.user__desc__content}>\n              <p>Batch:</p>\n              <p>\n                {new Date(props.user.selectedUser.batch).getFullYear() || 'n/a'}\n              </p>\n            </div>\n            {/* Edit button */}\n            <Button\n              variant='contained'\n              color='secondary'\n              className={classes.btn}\n              style={{ marginTop: '2rem' }}\n              onClick={() => setShowEditModal(true)}\n            >\n              Edit details\n            </Button>\n          </div>\n        </div>\n      </div>\n    </Paper>\n  );\n}\n\n// Edit user modal\nfunction EditUserModal(props) {\n  // const [role, setRole] = useState('');\n  const [gender, setGender] = useState(props.gender || '');\n  const [firstname, setFirstname] = useState(props.firstname || '');\n  const [lastname, setLastname] = useState(props.lastname || '');\n  const [email, setEmail] = useState(props.email || '');\n  const [grade, setGrade] = useState(props.grade || '');\n  const [batch, setBatch] = useState(new Date(props.batch).getFullYear() || '');\n  const [mobile, setMobile] = useState(props.mobile || '');\n  const [imgUrl, setImgUrl] = useState(props.profilePic || '');\n  const [loading, setLoading] = useState(false);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    props.updateUser(\n      {\n        firstname,\n        lastname,\n        email,\n        gender,\n        grade,\n        batch,\n        mobile,\n        profilePic: imgUrl,\n      },\n      props.userId,\n      setLoading\n    );\n  };\n\n  return (\n    <Modal open={props.open} onClose={props.onClose}>\n      <Paper className={classes.modal}>\n        <h2 className={classes.modal__head}>Edit user details</h2>\n        <form onSubmit={submitHandler} className={classes.modal__form}>\n          <div className={classes.modal__form__top}>\n            <TextField\n              label='Firstname'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={firstname}\n              onChange={(e) => setFirstname(e.target.value)}\n            />\n            <TextField\n              label='Middlename'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value=''\n            />\n            <TextField\n              label='Lastname'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={lastname}\n              onChange={(e) => setLastname(e.target.value)}\n            />\n          </div>\n          <div className={classes.modal__form__top}>\n            <TextField\n              label='Grade'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={grade}\n              onChange={(e) => setGrade(e.target.value)}\n            />\n            <TextField\n              label='Batch'\n              type='number'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={batch}\n              onChange={(e) => setBatch(e.target.value)}\n            />\n          </div>\n\n          <div className={classes.modal__form__top}>\n            <TextField\n              label='Email'\n              type='email'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n              label='Mobile'\n              type='number'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={mobile}\n              onChange={(e) => setMobile(e.target.value)}\n            />\n            <FormControl\n              variant='outlined'\n              className={classes.modal__form__inp}\n            >\n              <InputLabel id='demo-simple-select-outlined-label'>\n                Gender\n              </InputLabel>\n              <Select\n                labelId='demo-simple-select-outlined-label'\n                id='demo-simple-select-outlined'\n                value={gender}\n                onChange={(e) => setGender(e.target.value)}\n                label='Gender'\n                className={classes.modal__form__inp}\n              >\n                <MenuItem value=''>\n                  <em>None</em>\n                </MenuItem>\n                <MenuItem value={'male'}>Male</MenuItem>\n                <MenuItem value={'female'}>Female</MenuItem>\n                <MenuItem value={'other'}>other</MenuItem>\n              </Select>\n            </FormControl>\n          </div>\n          <div className={classes.modal__form__img}>\n            {/* <div>\n              <img src={imgUrl} alt='profile' />\n            </div>\n            <Button\n              startIcon={<Icon name='image' style={{ fill: 'white' }} />}\n              variant='contained'\n              color='primary'\n              className={classes.btn}\n            >\n              Upload\n            </Button> */}\n            <TextField\n              label='Image Url'\n              type='text'\n              className={classes.modal__form__inp}\n              variant='outlined'\n              value={imgUrl}\n              onChange={(e) => setImgUrl(e.target.value)}\n            />\n          </div>\n          <Button\n            style={{ marginLeft: 'auto', display: 'block' }}\n            variant='contained'\n            color='primary'\n            type='submit'\n            className={classes.btn}\n            disabled={loading}\n          >\n            {loading ? 'Updating...' : 'Edit'}\n          </Button>\n        </form>\n      </Paper>\n    </Modal>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    updateUser: (data, id, setLoading) =>\n      dispatch(updateUser(data, id, setLoading)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(User);\n","import React, { useEffect, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport classes from './Grade.module.scss';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport {\n  Avatar,\n  IconButton,\n  CircularProgress,\n  Button,\n  Modal,\n  TextField,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n} from '@material-ui/core';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Icon from '../../../../components/UI/Icon/Icon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  getSelectedGrade,\n  addStudentToGrade,\n  addSubjectToGrade,\n  removeSubjectFromGrade,\n} from './../../../../store/actionCreators/index';\nimport axios from './../../../../axios-instance/axiosInstance';\n\nfunction Grade() {\n  const globalState = useSelector((state) => state.grade);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const gradeId = history.location.pathname.split('/')[3];\n  const [loading, setLoading] = useState(false);\n\n  // Get selected grade\n  useEffect(() => {\n    dispatch(getSelectedGrade(gradeId, setLoading));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (loading || !globalState.selectedGrade) {\n    return (\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        <CircularProgress />\n      </div>\n    );\n  }\n  return (\n    <Paper className={classes.grade}>\n      <div className={classes.grade__header}>\n        <div className={classes.grade__header__left}>\n          <h1 className={classes.grade__head}>\n            Grade {globalState.selectedGrade.name}\n          </h1>\n          <Chip\n            label={`Batch ${new Date(\n              globalState.selectedGrade.batch\n            ).getFullYear()}`}\n            color='secondary'\n            variant='outlined'\n            className={classes.chip}\n          />\n        </div>\n        <div className={classes.grade__header__right}>\n          <p>\n            <strong>Total annual fee:</strong> Rs\n            {globalState.selectedGrade.totalGradeFee}\n          </p>\n        </div>\n      </div>\n\n      <div className={classes.grade__top}>\n        <div className={classes.grade__top__left}>\n          <StudentTable\n            students={globalState.selectedGrade.allStudents}\n            gradeId={globalState.selectedGrade._id}\n            batch={globalState.selectedGrade.batch}\n            class={globalState.selectedGrade.name}\n          />\n        </div>\n        <div className={classes.grade__top__right}>\n          <SubjectTable subjects={globalState.selectedGrade.allSubjects} />\n        </div>\n      </div>\n    </Paper>\n  );\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n  },\n  container: {\n    maxHeight: 440,\n  },\n  btn: {\n    width: '100%',\n  },\n  inp: {\n    width: '100%',\n    flex: 1,\n  },\n  flex: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '1rem',\n    width: '100%',\n  },\n});\n\nfunction StudentTable(props) {\n  const styles = useStyles();\n  // const dispatch = useDispatch();\n  const history = useHistory();\n\n  // select student and change route\n  const selectCurrentStudent = (data) => {\n    history.push(`/admin/grades/${props.gradeId}/${data._id}`);\n  };\n  return (\n    <>\n      {/* ADD STUDENT MODAL */}\n      <AddStudentModal students={props.students} gradeId={props.gradeId} />\n\n      <Paper className={styles.root}>\n        <TableContainer className={styles.container}>\n          <Table stickyHeader aria-label='sticky table'>\n            <TableHead>\n              <TableRow>\n                <TableCell\n                  align='left'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Students\n                </TableCell>\n                <TableCell\n                  align='left'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Roll no.\n                </TableCell>\n                <TableCell\n                  align='right'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Photo\n                </TableCell>\n\n                <TableCell\n                  align='right'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Mobile\n                </TableCell>\n                {/* <TableCell\n                align='right'\n                style={{\n                  fontSize: '1.8rem',\n                  color: '#666',\n                  fontWeight: '400',\n                }}\n              >\n                Batch\n              </TableCell> */}\n                <TableCell\n                  align='right'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Actions\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {props.students &&\n                props.students.map((row, id) => {\n                  return (\n                    <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                      <TableCell className={classes.table} align='left'>\n                        <strong style={{ textTransform: 'capitalize' }}>\n                          {row.student.firstname} {row.student.lastname}\n                        </strong>\n                      </TableCell>\n                      <TableCell className={classes.table} align='center'>\n                        {row.rollNumber}\n                      </TableCell>\n                      <TableCell className={classes.table} align='right'>\n                        <Avatar\n                          alt='Cindy Baker'\n                          src={row.student.profilePic}\n                          style={{ marginLeft: 'auto' }}\n                        />\n                      </TableCell>\n                      <TableCell className={classes.table} align='right'>\n                        {row.student.mobile}\n                      </TableCell>\n                      {/* <TableCell className={classes.table} align='right'>\n                      {new Date(props.batch).getFullYear()}\n                    </TableCell> */}\n                      <TableCell className={classes.table} align='right'>\n                        <IconButton onClick={() => selectCurrentStudent(row)}>\n                          <Icon name='eye' style={{ fill: '#444' }} />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </>\n  );\n}\n\nfunction AddStudentModal(props) {\n  const styles = useStyles();\n  const [open, setOpen] = useState(false);\n  const [name, setName] = useState('');\n  const [searchedStudents, setSearchedStudents] = useState(null);\n  const [searchStudentLoading, setSearchStudentLoading] = useState(false);\n\n  // search student based on name\n  const searchStudent = async (e) => {\n    e.preventDefault();\n    setSearchStudentLoading(true);\n    try {\n      if (name === '') throw new Error('Enter valid name');\n      let res = await axios.get('/api/v1/users/searchUser/student/' + name);\n      setSearchedStudents(res.data.users);\n    } catch (err) {\n      console.log(err.message);\n    }\n    setSearchStudentLoading(false);\n    setName('');\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const checkExistenceOfStudent = (data) => {\n    let student;\n    if (props.students) {\n      student = props.students.find((item) => {\n        return item.student._id === data._id;\n      });\n    }\n    return student;\n  };\n  return (\n    <div>\n      <Button\n        variant='contained'\n        style={{ marginBottom: '1rem' }}\n        color='primary'\n        onClick={() => setOpen(true)}\n      >\n        Add Student\n      </Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby='simple-modal-title'\n        aria-describedby='simple-modal-description'\n      >\n        <Paper className={classes.modal}>\n          <form onSubmit={searchStudent} className={classes.modal__form}>\n            <TextField\n              id='outlined-basic'\n              label='Search student'\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            <Button\n              classes={{ root: styles.btn }}\n              variant='contained'\n              color='secondary'\n              disabled={searchStudentLoading}\n              type='submit'\n            >\n              Search\n            </Button>\n          </form>\n          <em style={{ marginBottom: '1rem', display: 'block' }}>Results:</em>\n          <em>\n            {searchedStudents && searchedStudents.length === 0\n              ? 'No Students found'\n              : null}\n          </em>\n          {/* ALL THE SEARCHED STUDENTS LISTS */}\n          {searchedStudents &&\n            searchedStudents.map((item) => {\n              let isInGrade = checkExistenceOfStudent(item);\n              return (\n                <SearchedStudentsList\n                  gradeId={props.gradeId}\n                  isInGrade={isInGrade}\n                  item={item}\n                  key={item._id}\n                />\n              );\n            })}\n        </Paper>\n      </Modal>\n    </div>\n  );\n}\n\nfunction SearchedStudentsList(props) {\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const addStudent = () => {\n    dispatch(addStudentToGrade(props.gradeId, props.item._id, setLoading));\n  };\n  return (\n    <div key={props.item._id} className={classes.modal__item}>\n      <Avatar alt='Remy Sharp' src={props.item.profilePic} />\n      <p>\n        {props.item.firstname} {props.item.lastname}\n      </p>\n      {props.isInGrade ? (\n        <p\n          style={{\n            color: '#a55a3e',\n            fontStyle: 'italic',\n            fontSize: '1.4rem',\n          }}\n        >\n          ( Already exist )\n        </p>\n      ) : null}\n      <Button\n        style={{ marginLeft: 'auto' }}\n        variant='outlined'\n        color='secondary'\n        disabled={props.isInGrade ? true : false}\n        onClick={addStudent}\n      >\n        {loading ? 'Adding...' : 'Add'}\n      </Button>\n    </div>\n  );\n}\n\nfunction SubjectTable(props) {\n  const styles = useStyles();\n  const dispatch = useDispatch();\n  const params = useParams();\n  const [removeSubjectLoading, setRemoveSubjectLoading] = useState(false);\n\n  const removeSubject = (data) => {\n    dispatch(removeSubjectFromGrade(data, params.id, setRemoveSubjectLoading));\n    // console.log(data, params.id);\n  };\n\n  return (\n    <>\n      <AddSubjectModal />\n      <Paper className={styles.root}>\n        <TableContainer className={styles.container}>\n          <Table stickyHeader aria-label='sticky table'>\n            <TableHead>\n              <TableRow>\n                <TableCell\n                  align='left'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Subject\n                </TableCell>\n                <TableCell\n                  align='left'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Teacher\n                </TableCell>\n                <TableCell\n                  align='right'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Mobile\n                </TableCell>\n\n                <TableCell\n                  align='right'\n                  style={{\n                    fontSize: '1.8rem',\n                    color: '#666',\n                    fontWeight: '400',\n                  }}\n                >\n                  Act\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {props.subjects &&\n                props.subjects.map((row, id) => {\n                  return (\n                    <TableRow key={id} hover role='checkbox' tabIndex={-1}>\n                      <TableCell className={classes.table} align='left'>\n                        <strong style={{ textTransform: 'capitalize' }}>\n                          {row.name}\n                        </strong>\n                      </TableCell>\n                      <TableCell className={classes.table} align='center'>\n                        {row.teacher.firstname} {row.teacher.lastname}\n                      </TableCell>\n                      <TableCell className={classes.table} align='right'>\n                        {row.teacher.mobile}\n                      </TableCell>\n                      <TableCell className={classes.table} align='right'>\n                        <Button\n                          onClick={() => removeSubject(row._id)}\n                          variant='outlined'\n                          color='secondary'\n                          disabled={removeSubjectLoading}\n                        >\n                          <Icon name='trash' />\n                        </Button>\n                      </TableCell>\n                      {/* <TableCell className={classes.table} align='right'>\n                    <Avatar\n                      alt='Cindy Baker'\n                      src={imgUrl}\n                      style={{ marginLeft: 'auto' }}\n                    />\n                  </TableCell> */}\n\n                      {/* <TableCell className={classes.table} align='right'>\n                    <div>\n                      <Link to={`/admin/`}>\n                        <IconButton>\n                          <Icon name='eye' style={{ fill: '#444' }} />\n                        </IconButton>\n                      </Link>\n                    </div>\n                  </TableCell> */}\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </>\n  );\n}\n\nfunction AddSubjectModal(props) {\n  const dispatch = useDispatch();\n  const params = useParams();\n  const [open, setOpen] = React.useState(false);\n  const [searchTeacherLoading, setSearchTeacherLoading] = useState(false);\n  const [searchedTeachers, setSearchedTeachers] = useState(null);\n  const [selectedTeacher, setSelectedTeacher] = useState('');\n  const [name, setName] = useState('');\n  const [subjectName, setSubjectName] = useState('');\n  const [addSubjectLoading, setAddSubjectLoading] = useState(false);\n  const styles = useStyles();\n  // search teacher based on name\n  const searchTeacher = async (e) => {\n    e.preventDefault();\n    setSearchTeacherLoading(true);\n    try {\n      if (name === '') throw new Error('Enter valid name');\n      let res = await axios.get('/api/v1/users/searchUser/teacher/' + name);\n      setSearchedTeachers(res.data.users);\n    } catch (err) {\n      console.log(err.message);\n    }\n    setSearchTeacherLoading(false);\n    setName('');\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  // UPLOAD NEW SUBJECT TO DATABASE\n  const addSubject = (e) => {\n    e.preventDefault();\n    console.log(subjectName, selectedTeacher, params);\n    if (subjectName !== '' && selectedTeacher !== '') {\n      dispatch(\n        addSubjectToGrade(\n          { name: subjectName, teacher: selectedTeacher },\n          params.id,\n          setAddSubjectLoading\n        )\n      );\n    }\n  };\n  return (\n    <div>\n      <Button\n        variant='contained'\n        style={{ marginBottom: '1rem' }}\n        color='primary'\n        onClick={() => setOpen(true)}\n      >\n        Add Subject\n      </Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby='simple-modal-title'\n        aria-describedby='simple-modal-description'\n      >\n        <Paper className={classes.modal}>\n          <form onSubmit={addSubject} className={classes.modal__form}>\n            <TextField\n              id='outlined-basic'\n              label='Subject name'\n              variant='outlined'\n              classes={{ root: styles.inp }}\n              value={subjectName}\n              onChange={(e) => setSubjectName(e.target.value)}\n            />\n            <div className={styles.flex}>\n              <TextField\n                id='outlined-basic'\n                label='Search teacher'\n                variant='outlined'\n                classes={{ root: styles.inp }}\n                style={{ width: '100%' }}\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n              <Button\n                variant='contained'\n                color='primary'\n                onClick={searchTeacher}\n                disabled={searchTeacherLoading}\n              >\n                <Icon name='search' style={{ fill: 'white' }} />\n              </Button>\n            </div>\n            <RadioGroup\n              aria-label='gender'\n              name='gender1'\n              value={selectedTeacher}\n              onChange={(e) => setSelectedTeacher(e.target.value)}\n              style={{ width: '100%' }}\n            >\n              {searchedTeachers &&\n                searchedTeachers.map((item) => {\n                  return (\n                    <FormControlLabel\n                      value={item._id}\n                      control={<Radio />}\n                      key={item._id}\n                      style={{ marginBottom: '1rem' }}\n                      label={\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '1rem',\n                          }}\n                        >\n                          <Avatar alt='name' src={item.profilePic} />\n                          <p>\n                            {item.firstname} {item.lastname}\n                          </p>\n                        </div>\n                      }\n                    />\n                  );\n                })}\n            </RadioGroup>\n\n            <Button\n              classes={{ root: styles.btn }}\n              variant='contained'\n              color='secondary'\n              type='submit'\n              disabled={addSubjectLoading}\n            >\n              Add\n            </Button>\n          </form>\n        </Paper>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Grade;\n","import React, { useState } from 'react';\nimport classes from './CreateGrade.module.scss';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Icon from './../../../../components/UI/Icon/Icon';\nimport { InputAdornment, Avatar, IconButton, Button } from '@material-ui/core';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport axios from './../../../../axios-instance/axiosInstance';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { createGrade } from './../../../../store/actionCreators/index';\nimport { useDispatch } from 'react-redux';\n\nfunction CreateGrade() {\n  const [teacher, setTeacher] = React.useState('');\n  const [studentList, setStudentList] = useState([]);\n  const [teacherList, setTeacherList] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [subjectList, setSubjectList] = useState([]);\n  const [grade, setGrade] = useState('');\n  const [batch, setBatch] = useState('');\n  const [gradeTotalFee, setGradeTotalFee] = useState(0);\n  const [classTeacher, setClassTeacher] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const addSubjects = () => {\n    if (!subject && !teacher) return;\n    let data = {\n      name: subject,\n      teacher: teacher,\n    };\n    setSubjectList([data, ...subjectList]);\n    setTeacher('');\n    setSubject('');\n  };\n\n  const submitHandler = () => {\n    if (\n      grade !== '' &&\n      batch !== '' &&\n      gradeTotalFee !== 0 &&\n      studentList.length !== 0 &&\n      teacherList.length !== 0 &&\n      classTeacher !== ''\n    ) {\n      let data = {\n        name: grade,\n        batch: batch,\n        totalGradeFee: gradeTotalFee,\n        allStudents: studentList,\n        allSubjects: subjectList,\n        classTeacher,\n      };\n      dispatch(createGrade(data, setLoading));\n    }\n  };\n\n  return (\n    <Paper className={classes.grade}>\n      <h2 className={classes.grade__head}>Create a new grade</h2>\n\n      <div className={classes.grade__form}>\n        <div className={classes.grade__form__top}>\n          <TextField\n            label='Grade name'\n            className={classes.grade__form__inp}\n            variant='outlined'\n            value={grade}\n            onChange={(e) => setGrade(e.target.value)}\n          />\n          <TextField\n            label='Batch'\n            type='number'\n            className={classes.grade__form__inp}\n            variant='outlined'\n            value={batch}\n            onChange={(e) => setBatch(e.target.value)}\n          />\n          <TextField\n            label='Grade total fee'\n            type='number'\n            className={classes.grade__form__inp}\n            variant='outlined'\n            value={gradeTotalFee}\n            onChange={(e) => setGradeTotalFee(e.target.value)}\n          />\n        </div>\n\n        {/* Add students and teachers */}\n        <div className={classes.grade__form__add}>\n          <div className={classes.grade__form__add__left}>\n            {/* Students */}\n            <Students\n              studentList={studentList}\n              setStudentList={setStudentList}\n            />\n          </div>\n          <div className={classes.grade__form__add__right}>\n            <Teachers\n              teacherList={teacherList}\n              setTeacherList={setTeacherList}\n            />\n          </div>\n        </div>\n\n        {/* Add subjects */}\n        <div className={classes.grade__form__subjects}>\n          <h1>Add Subjects</h1>\n          <div style={{ marginBottom: '4rem' }}>\n            <TextField\n              variant='outlined'\n              className={classes.grade__form__inp}\n              label='Add subjects'\n              value={subject}\n              onChange={(e) => setSubject(e.target.value)}\n            />\n            <FormControl\n              variant='outlined'\n              className={classes.grade__form__inp}\n            >\n              <InputLabel id='demo-simple-select-outlined-label'>\n                Select teacher\n              </InputLabel>\n              <Select\n                labelId='demo-simple-select-outlined-label'\n                id='demo-simple-select-outlined'\n                value={teacher}\n                onChange={(e) => setTeacher(e.target.value)}\n                label='Age'\n              >\n                <MenuItem value=''>\n                  <em>None</em>\n                </MenuItem>\n\n                {teacherList.map((item) => {\n                  return <MenuItem value={item}>{item.firstname}</MenuItem>;\n                })}\n              </Select>\n            </FormControl>\n            <Button\n              variant='contained'\n              onClick={addSubjects}\n              startIcon={\n                <Icon\n                  name='plus'\n                  style={{ fill: 'white', width: '1.5rem', height: '1.5rem' }}\n                />\n              }\n              color='primary'\n            >\n              Add\n            </Button>\n          </div>\n          {/* Subject lists */}\n          <ul className={classes.grade__form__subjects__items}>\n            {subjectList.map((item) => {\n              return (\n                <li>\n                  <Avatar src={item.teacher.profilePic} />\n                  <p>\n                    {item.teacher.firstname} {item.teacher.lastname}\n                  </p>\n                  <p>\n                    <strong>({item.name})</strong>\n                  </p>\n\n                  <IconButton style={{ marginLeft: 'auto' }}>\n                    <Icon name='trash' style={{ fill: 'coral' }} />\n                  </IconButton>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n\n        {/* Class teacher */}\n        <h2>Select class teacher</h2>\n        <FormControl\n          variant='outlined'\n          className={classes.grade__form__inp}\n          style={{ maxWidth: '20rem' }}\n        >\n          <InputLabel id='demo-simple-select-outlined-label'>\n            Select teacher\n          </InputLabel>\n          <Select\n            labelId='demo-simple-select-outlined-label'\n            id='demo-simple-select-outlined'\n            value={classTeacher}\n            onChange={(e) => setClassTeacher(e.target.value)}\n            label='Age'\n          >\n            <MenuItem value=''>\n              <em>None</em>\n            </MenuItem>\n\n            {teacherList.map((item) => {\n              return <MenuItem value={item}>{item.firstname}</MenuItem>;\n            })}\n          </Select>\n        </FormControl>\n\n        <Button\n          variant='contained'\n          color='primary'\n          style={{ marginLeft: 'auto', display: 'block' }}\n          onClick={submitHandler}\n          disabled={loading}\n        >\n          {loading ? 'Please wait...' : 'Submit'}\n        </Button>\n      </div>\n    </Paper>\n  );\n}\n\nfunction Students(props) {\n  const [searchedList, setSearchedList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState('');\n  const [userNotFound, setUserNotFound] = useState(false);\n\n  const searchedListStyle = {\n    display: searchedList.length === 0 && !userNotFound ? 'none' : 'flex',\n  };\n  const closeMenu = () => {\n    setSearchedList([]);\n    setUserNotFound(false);\n  };\n  const searchStudents = async (e) => {\n    try {\n      if (e.key !== 'Enter') return;\n      setLoading(true);\n      let res = await axios.get('/api/v1/users/searchUser/student/' + name);\n      setSearchedList(res.data.users);\n      if (res.data.users.length === 0) {\n        setUserNotFound(true);\n      }\n    } catch (err) {\n      console.log(err.message);\n    }\n    setLoading(false);\n  };\n\n  const selectStudent = (data) => {\n    let index = props.studentList.findIndex((item) => item._id === data._id);\n    if (index !== -1) {\n      setSearchedList([]);\n      setName('');\n      return;\n    }\n    props.setStudentList([data, ...props.studentList]);\n    setSearchedList([]);\n    setName('');\n  };\n\n  const removeStudent = (data) => {\n    props.setStudentList([\n      ...props.studentList.filter((item) => item._id !== data._id),\n    ]);\n  };\n  return (\n    <React.Fragment>\n      <div className={classes.grade__form__add__search}>\n        <TextField\n          variant='outlined'\n          label='search students'\n          className={classes.grade__form__inp}\n          style={{ maxWidth: '25rem' }}\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          onKeyPress={searchStudents}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position='start'>\n                <Icon name='search' />\n              </InputAdornment>\n            ),\n          }}\n        />\n        <CircularProgress style={{ display: loading ? 'block' : 'none' }} />\n\n        {/* Searched students list */}\n        <div className={classes.searchedList} style={searchedListStyle}>\n          <p onClick={closeMenu}>close</p>\n          {userNotFound ? (\n            <h4 style={{ margin: '0 1rem' }}>Student not found</h4>\n          ) : null}\n          {searchedList.map((item) => {\n            return (\n              <div key={item._id} onClick={() => selectStudent(item)}>\n                <Avatar src={item.profilePic}>Mark</Avatar>\n                <p>\n                  {item.firstname} {item.lastname}\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <ul>\n        {props.studentList.map((item) => {\n          return (\n            <li key={item._id}>\n              <Avatar src={item.profilePic} />\n              <p>\n                {item.firstname} {item.lastname}\n              </p>\n              <IconButton\n                onClick={() => removeStudent(item)}\n                style={{ marginLeft: 'auto' }}\n              >\n                <Icon name='trash' style={{ fill: 'coral' }} />\n              </IconButton>\n            </li>\n          );\n        })}\n      </ul>\n    </React.Fragment>\n  );\n}\n\nfunction Teachers(props) {\n  const [searchedList, setSearchedList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState('');\n  const [userNotFound, setUserNotFound] = useState(false);\n\n  const searchedListStyle = {\n    display: searchedList.length === 0 && !userNotFound ? 'none' : 'flex',\n  };\n\n  const closeMenu = () => {\n    setSearchedList([]);\n    setUserNotFound(false);\n  };\n  const searchTeacher = async (e) => {\n    try {\n      if (e.key !== 'Enter') return;\n      setLoading(true);\n      let res = await axios.get('/api/v1/users/searchUser/teacher/' + name);\n      setSearchedList(res.data.users);\n      if (res.data.users.length === 0) {\n        setUserNotFound(true);\n      }\n    } catch (err) {\n      console.log(err.message);\n    }\n    setLoading(false);\n  };\n\n  const selectTeacher = (data) => {\n    let index = props.teacherList.findIndex((item) => item._id === data._id);\n    if (index !== -1) {\n      setSearchedList([]);\n      setName('');\n      return;\n    }\n    props.setTeacherList([data, ...props.teacherList]);\n    setSearchedList([]);\n    setName('');\n  };\n\n  const removeTeacher = (data) => {\n    props.setTeacherList([\n      ...props.teacherList.filter((item) => item._id !== data._id),\n    ]);\n  };\n  return (\n    <React.Fragment>\n      <div className={classes.grade__form__add__search}>\n        <TextField\n          variant='outlined'\n          label='search teachers'\n          className={classes.grade__form__inp}\n          style={{ maxWidth: '25rem' }}\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          onKeyPress={searchTeacher}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position='start'>\n                <Icon name='search' />\n              </InputAdornment>\n            ),\n          }}\n        />\n        <CircularProgress style={{ display: loading ? 'block' : 'none' }} />\n\n        {/* Searched students list */}\n        <div className={classes.searchedList} style={searchedListStyle}>\n          <p onClick={closeMenu}>close</p>\n          {userNotFound ? (\n            <h4 style={{ margin: '0 1rem' }}>Teacher not found</h4>\n          ) : null}\n          {searchedList.map((item) => {\n            return (\n              <div key={item._id} onClick={() => selectTeacher(item)}>\n                <Avatar src={item.profilePic}>Mark</Avatar>\n                <p>\n                  {item.firstname} {item.lastname}\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <ul>\n        {props.teacherList.map((item) => {\n          return (\n            <li key={item._id}>\n              <Avatar src={item.profilePic} />\n              <p>\n                {item.firstname} {item.lastname}\n              </p>\n              <IconButton\n                onClick={() => removeTeacher(item)}\n                style={{ marginLeft: 'auto' }}\n              >\n                <Icon name='trash' style={{ fill: 'coral' }} />\n              </IconButton>\n            </li>\n          );\n        })}\n      </ul>\n    </React.Fragment>\n  );\n}\n\nexport default CreateGrade;\n","import React, { useState, useEffect } from 'react';\nimport classes from './Result.module.scss';\nimport { Button, TextField, Paper, Modal } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Icon from '../../../../../components/UI/Icon/Icon';\nimport {\n  createResult,\n  getResults,\n  deleteResult,\n} from '../../../../../store/actionCreators/index';\n\nfunction Result(props) {\n  // const [title, setTitle] = useState('');\n  // const [imgSrc, setImgSrc] = useState('');\n  const [createResultLoading, setCreateResultLoading] = useState(false);\n  const dispatch = useDispatch();\n  const globalState = useSelector((state) => state.result);\n  const [getResultsLoading, setGetResultsLoading] = useState(false);\n  const [showCreateResultModal, setShowCreateResultModal] = useState(false);\n\n  useEffect(() => {\n    // empty result at first\n\n    dispatch(\n      getResults(\n        {\n          id: props.studentId,\n          batch: props.batch,\n          grade: props.grade,\n        },\n        setGetResultsLoading\n      )\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const submitHandler = (e, data) => {\n    e.preventDefault();\n    console.log(data, 'submit handler');\n    if (data.title !== '' && data.imgSrc !== '') {\n      const resultData = {\n        photoUrl: data.imgSrc,\n        title: data.title,\n        grade: parseInt(props.grade),\n        batch: props.batch,\n        userId: props.studentId,\n      };\n      dispatch(createResult(resultData, setCreateResultLoading));\n    } else {\n      console.log('error');\n    }\n    setShowCreateResultModal(false);\n  };\n\n  // delete result\n  const deleteHandler = (id) => {\n    dispatch(deleteResult({ userId: props.studentId, resultId: id }));\n  };\n\n  return (\n    <div className={classes.result}>\n      {/* Create result modal */}\n      <CreateResultModal\n        open={showCreateResultModal}\n        onClose={() => setShowCreateResultModal(false)}\n        onSubmit={submitHandler}\n        loading={createResultLoading}\n      />\n      <div className={classes.result__create}>\n        <h3 className={classes.result__heading}>Results</h3>\n        <Button\n          onClick={() => setShowCreateResultModal(true)}\n          variant='outlined'\n          color='primary'\n        >\n          Create result\n        </Button>\n      </div>\n      <div className={classes.result__container}>\n        <ul className={classes.result__tableHead}>\n          <li>Photo</li>\n          <li>Name</li>\n          <li>Actions</li>\n        </ul>\n        <ul className={classes.result__tableBody}>\n          {/* loading */}\n          {getResultsLoading ? 'Loading' : null}\n\n          {globalState.results &&\n            globalState.results.map((item) => {\n              return (\n                <li key={item._id} className={classes.result__tableBody__item}>\n                  <img\n                    className={classes.result__tableBody__img}\n                    src={item.photoUrl}\n                    alt={item.title}\n                  />\n                  <p>{item.title}</p>\n                  <div style={{ display: 'flex', gap: '1rem' }}>\n                    <a href={item.photoUrl} target='blank'>\n                      <Button variant='contained' color='primary'>\n                        View\n                      </Button>\n                    </a>\n                    <Button\n                      variant='contained'\n                      onClick={() => deleteHandler(item._id)}\n                      color='secondary'\n                    >\n                      Delete\n                    </Button>\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nfunction CreateResultModal(props) {\n  const [imgSrc, setImgSrc] = useState('');\n  const [title, setTitle] = useState('');\n  return (\n    <Modal open={props.open} onClose={props.onClose}>\n      <Paper className={classes.createResultModal}>\n        <h2>Create result</h2>\n\n        {imgSrc ? (\n          <img className={classes.preview} src={imgSrc} alt='preview' />\n        ) : (\n          <Icon className={classes.preview} name='image' />\n        )}\n\n        {/* Create result form */}\n        <form\n          onSubmit={(e) => props.onSubmit(e, { title, imgSrc })}\n          className={classes.createResultModal__form}\n        >\n          <TextField\n            className={classes.createResultModal__form__inp}\n            variant='outlined'\n            label='Title'\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n          <TextField\n            className={classes.createResultModal__form__inp}\n            variant='outlined'\n            label='Image url'\n            value={imgSrc}\n            onChange={(e) => setImgSrc(e.target.value)}\n          />\n          <Button\n            disabled={props.loading}\n            className={classes.btn}\n            variant='contained'\n            type='submit'\n            color='primary'\n          >\n            {props.loading ? 'Submitting...' : 'Submit'}\n          </Button>\n        </form>\n      </Paper>\n    </Modal>\n  );\n}\nexport default Result;\n","import React, { useState, useEffect } from 'react';\nimport classes from './Payment.module.scss';\nimport { TextField, Button, Paper, Modal } from '@material-ui/core';\nimport Icon from '../../../../../components/UI/Icon/Icon';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  createPayment,\n  getStudentPayments,\n} from './../../../../../store/actionCreators/index';\n\nfunction Payment(props) {\n  const [openCreatePayment, setOpenCreatePayment] = useState(false);\n  const dispatch = useDispatch();\n  const globalState = useSelector((state) => state.payment);\n\n  // get payments\n  useEffect(() => {\n    dispatch(\n      getStudentPayments({\n        id: props.studentId,\n        batch: props.batch,\n        grade: props.grade,\n      })\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.payment}>\n      {/* Create payment modal */}\n      <CreatePaymentModal\n        open={openCreatePayment}\n        onClose={() => setOpenCreatePayment(false)}\n        batch={props.batch}\n        grade={props.grade}\n        studentId={props.studentId}\n      />\n      <div className={classes.payment__create}>\n        <h3 className={classes.payment__heading}>Payments</h3>\n        <Button\n          onClick={() => setOpenCreatePayment(true)}\n          variant='outlined'\n          color='primary'\n        >\n          Create payment\n        </Button>\n      </div>\n\n      <div className={classes.payment__container}>\n        <ul className={classes.payment__tableHead}>\n          <li>Photo</li>\n          <li>Title</li>\n          <li>Description</li>\n          <li>Amount</li>\n          <li>Actions</li>\n        </ul>\n\n        {/* main content */}\n        <ul className={classes.payment__tableBody}>\n          {globalState.studentPayments &&\n            globalState.studentPayments.map((item) => {\n              return (\n                <li key={item._id} className={classes.payment__tableBody__item}>\n                  <img\n                    className={classes.payment__tableBody__img}\n                    src={item.image}\n                    alt={item.title}\n                  />\n                  <p>{item.title}</p>\n                  <p>{item.paymentDescription}</p>\n                  <p>Rs {item.paymentAmount.toLocaleString('en-US')}</p>\n                  <div style={{ display: 'flex', gap: '1rem' }}>\n                    <a href={item.image} target='blank'>\n                      <Button variant='contained' color='primary'>\n                        View\n                      </Button>\n                    </a>\n                    <Button variant='contained' color='secondary'>\n                      Delete\n                    </Button>\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nfunction CreatePaymentModal(props) {\n  const [imgSrc, setImgSrc] = useState('');\n  const [title, setTitle] = useState('');\n  const [paymentDescription, setPaymentDescription] = useState('');\n  const [paymentAmount, setPaymentAmount] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (\n      imgSrc !== '' &&\n      title !== '' &&\n      paymentDescription !== '' &&\n      paymentAmount !== ''\n    ) {\n      dispatch(\n        createPayment(\n          {\n            title,\n            paymentDescription,\n            paymentAmount,\n            image: imgSrc,\n            batch: props.batch,\n            grade: props.grade,\n            userId: props.studentId,\n            createdAt: Date.now(),\n          },\n          setLoading\n        )\n      );\n    }\n  };\n  return (\n    <Modal open={props.open} onClose={props.onClose}>\n      <Paper className={classes.createPaymentModal}>\n        {imgSrc ? (\n          <img className={classes.preview} src={imgSrc} alt='preview' />\n        ) : (\n          <Icon className={classes.preview} name='image' />\n        )}\n\n        {/* Create payment form */}\n        <form\n          onSubmit={submitHandler}\n          className={classes.createPaymentModal__form}\n        >\n          <TextField\n            className={classes.createPaymentModal__form__inp}\n            variant='outlined'\n            label='Title'\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n          <TextField\n            className={classes.createPaymentModal__form__inp}\n            variant='outlined'\n            label='Image url'\n            value={imgSrc}\n            onChange={(e) => setImgSrc(e.target.value)}\n          />\n\n          <TextField\n            label='Description'\n            className={classes.createPaymentModal__form__inp}\n            multiline\n            rows={3}\n            variant='outlined'\n            value={paymentDescription}\n            onChange={(e) => setPaymentDescription(e.target.value)}\n          />\n          <TextField\n            className={classes.createPaymentModal__form__inp}\n            variant='outlined'\n            label='Amount'\n            type='number'\n            value={paymentAmount}\n            onChange={(e) => setPaymentAmount(e.target.value)}\n          />\n          <Button\n            disabled={loading}\n            className={classes.btn}\n            variant='contained'\n            type='submit'\n            color='primary'\n          >\n            {loading ? 'Submitting...' : 'Submit'}\n          </Button>\n        </form>\n      </Paper>\n    </Modal>\n  );\n}\n\nexport default Payment;\n","import React, { useState, useEffect } from 'react';\nimport classes from './Student.module.scss';\nimport Paper from '@material-ui/core/Paper';\nimport { useSelector } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { CircularProgress } from '@material-ui/core';\nimport {\n  updateStudentRollNumber,\n  getSelectedStudent,\n  deleteStudentFromGrade,\n} from './../../../../store/actionCreators/index';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Result from './Result/Result';\nimport Payment from './Payment/Payment';\n\nfunction Student() {\n  const globalState = useSelector((state) => state.grade.selectedStudent);\n  const [roll, setRoll] = useState(0);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const params = useParams();\n  const gradeId = history.location.pathname.split('/')[3];\n  const studentId = history.location.pathname.split('/')[4];\n  const [loading, setLoading] = useState(false);\n  const [rollLoading, setRollLoading] = useState(false);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  useEffect(() => {\n    dispatch(getSelectedStudent({ gradeId, studentId }, setLoading));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (loading || !globalState) {\n    return <CircularProgress />;\n  }\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (roll === 0) return;\n    dispatch(\n      updateStudentRollNumber(\n        {\n          rollNumber: roll,\n          gradeId: gradeId,\n          studentId: studentId,\n        },\n        setRollLoading\n      )\n    );\n  };\n\n  // REMOVE STUDENT\n  const removeStudent = () => {\n    dispatch(\n      deleteStudentFromGrade(\n        params.id,\n        params.studentId,\n        setDeleteLoading,\n        history\n      )\n    );\n  };\n  return (\n    <Paper className={classes.student}>\n      <div className={classes.student__container}>\n        <div className={classes.student__img}>\n          <img src={globalState.student.profilePic} alt='user' />\n        </div>\n        <div className={classes.student__desc}>\n          <h2 className={classes.student__head}>Student details</h2>\n          {/* Student description */}\n          <div className={classes.student__desc__container}>\n            <div className={classes.student__desc__content}>\n              <p>Fullname:</p>\n              <p>\n                {globalState.student.firstname} {globalState.student.lastname}\n              </p>\n            </div>\n            <div className={classes.student__desc__content}>\n              <p>Email address:</p>\n              <p>{globalState.student.email}</p>\n            </div>\n            <div className={classes.student__desc__content}>\n              <p>Roll no.:</p>\n              <p>{globalState.rollNumber}</p>\n            </div>\n            <div className={classes.student__desc__content}>\n              <p>Mobile:</p>\n              <p>{globalState.student.mobile}</p>\n            </div>\n            <div className={classes.student__desc__content}>\n              <p>Role:</p>\n              <p>Student</p>\n            </div>\n            <div className={classes.student__desc__content}>\n              <p>Grade:</p>\n              <p>{globalState.grade}</p>\n            </div>\n            <div className={classes.student__desc__content}>\n              <p>Batch:</p>\n              <p>{new Date(globalState.batch).getFullYear()}</p>\n            </div>\n          </div>\n\n          {/* Edit roll number of student */}\n          <form\n            onSubmit={submitHandler}\n            className={classes.student__desc__form}\n          >\n            <TextField\n              variant='outlined'\n              className={classes.student__desc__form__inp}\n              label='Update roll number'\n              type='number'\n              value={roll}\n              onChange={(e) => setRoll(e.target.value)}\n            />\n            <Button\n              type='submit'\n              variant='contained'\n              className={classes.btn}\n              color='primary'\n              disabled={rollLoading}\n            >\n              {rollLoading ? 'Updating...' : 'Update'}\n            </Button>\n          </form>\n        </div>\n      </div>\n\n      {/* Results section */}\n      <Result\n        studentId={globalState.student._id}\n        batch={globalState.batch}\n        grade={globalState.grade}\n      />\n\n      {/* Payments section */}\n      <Payment\n        studentId={globalState.student._id}\n        batch={globalState.batch}\n        grade={globalState.grade}\n      />\n\n      {/* REMOVE STUDENT FROM CURRENT GRADE */}\n      <Button\n        style={{ marginLeft: 'auto', display: 'block' }}\n        variant='contained'\n        color='secondary'\n        onClick={removeStudent}\n        disabled={deleteLoading}\n      >\n        Remove student\n      </Button>\n    </Paper>\n  );\n}\n\nexport default Student;\n","import React, { useState, useEffect } from 'react';\nimport classes from './Images.module.scss';\nimport Paper from '@material-ui/core/Paper';\nimport Icon from './../../../components/UI/Icon/Icon';\nimport { TextField, Button } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  createImage,\n  getImages,\n  deleteImage,\n} from './../../../store/actionCreators/index';\nimport { motion } from 'framer-motion';\nimport axios from './../../../axios-instance/axiosInstance';\nimport Progress from '../../../components/UI/ProgressBar/ProgressBar';\n\nconst mainVariant = {\n  hidden: {\n    opacity: 0,\n  },\n  visible: {\n    opacity: 1,\n    transition: {\n      when: 'beforeChildren',\n      staggerChildren: 0.2,\n    },\n  },\n};\nconst imgVariant = {\n  hidden: {\n    opacity: 0,\n  },\n  visible: {\n    opacity: 1,\n  },\n};\n\nfunction Images() {\n  const dispatch = useDispatch();\n\n  const [initialLoading, setInitialLoading] = useState(false);\n  const [searchedImages, setSearchedImages] = useState(null);\n  const [searchField, setSearchField] = useState('');\n\n  // GET IMAGES FROM THE SERVER\n  useEffect(() => {\n    dispatch(getImages(setInitialLoading));\n  }, [dispatch]);\n\n  // SEARCH IMAGE\n  const searchImage = async (e) => {\n    e.preventDefault();\n    try {\n      let res = await axios.get(`/api/v1/images/search?name=${searchField}`);\n      setSearchedImages(res.data.images);\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  //RESET SEARCHED IMAGES\n  const resetSearchedImages = () => {\n    setSearchedImages(null);\n    setSearchField('');\n  };\n  return (\n    <div className={classes.images}>\n      <div className={classes.images__container}>\n        <Paper className={classes.images__container__left}>\n          {/* SEARCH IMAGE FORM */}\n          <form onSubmit={searchImage} className={classes.images__search}>\n            <TextField\n              variant='outlined'\n              className={classes.images__form__inp}\n              label='Search images...'\n              style={{ flex: 3 }}\n              value={searchField}\n              onChange={(e) => setSearchField(e.target.value)}\n            />\n            <Button\n              variant='contained'\n              style={{ flex: 1 }}\n              className={classes.btn}\n              color='primary'\n              startIcon={<Icon name='search' style={{ fill: 'white' }} />}\n              type='submit'\n            >\n              Search\n            </Button>\n          </form>\n          {/* RESET SEARCHED IMAGES BUTTON */}\n          <Button\n            style={{\n              display: searchedImages ? 'block' : 'none',\n              marginTop: '1rem',\n            }}\n            variant='contained'\n            color='secondary'\n            onClick={resetSearchedImages}\n          >\n            Reset\n          </Button>\n          {/* PROGRESS BAR */}\n          <Progress loading={initialLoading} />\n\n          {/* ALL IMAGES CONTAINER */}\n          <ImagesContainer searchedImages={searchedImages} />\n        </Paper>\n\n        <UploadImage />\n      </div>\n    </div>\n  );\n}\n\n// DISPLAY IMAGES\nconst ImagesContainer = (props) => {\n  const globalState = useSelector((state) => state.image);\n  const dispatch = useDispatch();\n\n  const [copied, setCopied] = useState('');\n  const [deleteImageLoading, setDeleteImageLoading] = useState(false);\n\n  // copy image url\n  const copyUrl = (imgId, url) => {\n    navigator.clipboard.writeText(url);\n    setCopied(imgId);\n  };\n\n  // delete image\n  const deleteImageById = (id) => {\n    dispatch(deleteImage(id, setDeleteImageLoading));\n  };\n\n  return (\n    <>\n      {/* IMAGES CONTAINER */}\n\n      <motion.div\n        variants={mainVariant}\n        initial='hidden'\n        animate='visible'\n        className={classes.images__main}\n      >\n        {!props.searchedImages &&\n          globalState.images &&\n          globalState.images.map((item) => {\n            return (\n              <motion.div key={item._id} variants={imgVariant}>\n                <ImageContent\n                  copiedImgId={copied}\n                  copied={() => copyUrl(item._id, item.imageUrl)}\n                  deleteImage={() => deleteImageById(item._id)}\n                  loading={deleteImageLoading}\n                  {...item}\n                />\n              </motion.div>\n            );\n          })}\n      </motion.div>\n\n      <motion.div\n        variants={mainVariant}\n        initial='hidden'\n        animate='visible'\n        className={classes.images__main}\n      >\n        {props.searchedImages &&\n          props.searchedImages.map((item) => {\n            return (\n              <motion.div key={item._id} variants={imgVariant}>\n                <ImageContent\n                  copiedImgId={copied}\n                  copied={() => copyUrl(item._id, item.imageUrl)}\n                  deleteImage={() => deleteImageById(item._id)}\n                  loading={deleteImageLoading}\n                  {...item}\n                />\n              </motion.div>\n            );\n          })}\n      </motion.div>\n    </>\n  );\n};\n\n// INDIVIDUAL IMAGE\nconst ImageContent = (props) => {\n  return (\n    <div className={classes.img}>\n      <img src={props.imageUrl} alt='content' />\n      <div className={classes.img__overlay}>\n        <p>{props.name}</p>\n        <Button\n          data-text='hello'\n          onClick={props.copied}\n          variant={props.copiedImgId === props._id ? 'contained' : 'outlined'}\n          color='primary'\n        >\n          {props.copiedImgId === props._id ? 'Copied' : 'Copy url'}\n        </Button>\n        <Button\n          onClick={props.deleteImage}\n          variant='outlined'\n          color='secondary'\n        >\n          {props.loading ? 'Deleting...' : 'Delete'}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\n// UPLOAD IMAGE TO SERVER\nconst UploadImage = (props) => {\n  const dispatch = useDispatch();\n  const [selectedImage, setSelectedImage] = useState('');\n  const [imgSrc, setImgSrc] = useState(null);\n  const [imageUploadLoading, setImageUploadLoading] = useState(false);\n  const [name, setName] = useState('');\n\n  const changeHandler = (e) => {\n    let file = e.target.files[0];\n\n    setSelectedImage(file);\n    const reader = new FileReader();\n\n    reader.addEventListener('load', function () {\n      setImgSrc(reader.result);\n    });\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(\n      createImage(\n        selectedImage,\n        name,\n        [setSelectedImage, setImgSrc, setName],\n        setImageUploadLoading\n      )\n    );\n  };\n  return (\n    <>\n      {/* UPLOAD IMAGES TO SERVER */}\n\n      <Paper className={classes.images__container__right}>\n        <form onSubmit={submitHandler} className={classes.images__form}>\n          {imgSrc ? (\n            <img\n              className={classes.images__preview}\n              src={imgSrc}\n              alt='preview'\n            />\n          ) : (\n            <Icon\n              name='image'\n              style={{ width: '20rem', height: '20rem', margin: '0 auto' }}\n            />\n          )}\n          <div className={classes.images__form__img}>\n            <label className={classes.label} htmlFor={classes.file}>\n              Choose\n            </label>\n            <input\n              onChange={changeHandler}\n              type='file'\n              id={classes.file}\n              accept='image/*'\n            />\n            <TextField\n              className={classes.images__form__inp}\n              variant='outlined'\n              label='Name'\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n          </div>\n          <Button\n            type='submit'\n            className={classes.btn}\n            variant='contained'\n            color='primary'\n            disabled={imageUploadLoading}\n          >\n            {imageUploadLoading ? 'Please wait...' : 'Confirm'}\n          </Button>\n        </form>\n      </Paper>\n    </>\n  );\n};\n\nexport default Images;\n","import React, { useState } from 'react';\nimport classes from './Admin.module.scss';\nimport { Paper } from '@material-ui/core';\nimport { Switch, Route } from 'react-router-dom';\nimport Dashboard from './Dashboard/Dashboard';\nimport Events from './Events/Events';\nimport Grades from './Grades/Grades';\nimport Settings from './Settings/Settings';\nimport Students from './Students/Students';\nimport Teachers from './Teachers/Teachers';\nimport Icon from './../../components/UI/Icon/Icon';\nimport Sidebar from '../../components/Sidebar/Sidebar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Menu, MenuItem, Button } from '@material-ui/core';\nimport CreateUser from './CreateUser/CreateUser';\nimport User from './User/User';\nimport Grade from './Grades/Grade/Grade';\nimport CreateGrade from './Grades/CreateGrade/CreateGrade';\nimport Student from './Grades/Student/Student';\nimport { useHistory } from 'react-router';\nimport Images from './Images/Images';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { motion } from 'framer-motion';\nimport { logout } from './../../store/actionCreators/index';\n\nexport const imgUrl =\n  'https://blogs-images.forbes.com/danschawbel/files/2017/12/Dan-Schawbel_avatar_1512422077-400x400.jpg';\n\nconst adminVariant = {\n  hidden: {\n    opacity: 0,\n  },\n  visible: {\n    opacity: 1,\n    transition: {\n      duration: 0.5,\n      ease: 'linear',\n    },\n  },\n};\nfunction Admin() {\n  const globalState = useSelector((state) => state.user);\n  const history = useHistory();\n\n  if (globalState.user === null || globalState.user.role !== 'admin') {\n    return (\n      <div>\n        <p>Not authenticated</p>\n        <Button type='outlined' onClick={() => history.push('/')}>\n          Go back\n        </Button>\n      </div>\n    );\n  }\n  return (\n    <motion.div\n      className={classes.admin}\n      variants={adminVariant}\n      initial='hidden'\n      animate='visible'\n      exit='hidden'\n    >\n      <div className={classes.admin__sidebar}>\n        <Sidebar />\n      </div>\n      <div className={classes.admin__main}>\n        <Header user={globalState.user} history={history} />\n        {/* Main content goes here */}\n        <div\n          style={{\n            padding: '2rem',\n            height: 'calc(100vh - 7rem)',\n            overflowY: 'scroll',\n          }}\n        >\n          <Switch>\n            <Route path='/admin/events' component={Events} />\n            <Route path='/admin/grades/:id/:studentId' component={Student} />\n\n            <Route path='/admin/grades/:id' component={Grade} />\n            <Route path='/admin/grades' component={Grades} />\n            <Route path='/admin/createGrade' component={CreateGrade} />\n            <Route path='/admin/settings' component={Settings} />\n            <Route path='/admin/students' component={Students} />\n            <Route path='/admin/teachers' component={Teachers} />\n            <Route path='/admin/createUser' component={CreateUser} />\n            <Route path='/admin/user/:id' component={User} />\n            <Route path='/admin/images' component={Images} />\n\n            <Route path='/' component={Dashboard} />\n          </Switch>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nfunction Header(props) {\n  const dispatch = useDispatch();\n  const [logoutLoading, setLogoutLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const history = useHistory();\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (type) => {\n    if (type === 'logout') {\n      console.log('logout');\n      dispatch(logout(setLogoutLoading, props.history));\n      return;\n    }\n    setAnchorEl(null);\n  };\n\n  return (\n    <Paper square elevation={2} className={classes.admin__main__header}>\n      <Icon\n        name='ham'\n        style={{ width: '4rem', height: '4rem', cursor: 'pointer' }}\n      />\n\n      <Button\n        variant='outlined'\n        onClick={() => history.goBack()}\n        style={{ marginRight: 'auto', fontSize: '1rem' }}\n      >\n        Go back\n      </Button>\n\n      <Button\n        onClick={handleClick}\n        className={classes.admin__main__header__profile}\n      >\n        <Avatar src={props.user.profilePic} />\n        <span>{props.user.firstname}</span>\n      </Button>\n      <Menu\n        id='simple-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem className={classes.admin__menuItem} onClick={handleClose}>\n          Profile\n        </MenuItem>\n        <MenuItem className={classes.admin__menuItem} onClick={handleClose}>\n          My account\n        </MenuItem>\n        <MenuItem\n          className={classes.admin__menuItem}\n          onClick={() => handleClose('logout')}\n        >\n          {logoutLoading ? 'Logging out...' : 'Logout'}\n        </MenuItem>\n      </Menu>\n    </Paper>\n  );\n}\n\nexport default Admin;\n"],"sourceRoot":""}